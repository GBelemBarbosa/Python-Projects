diff --git a/ClientRPG/D&D 5.5e - G(r)ay.py b/ClientRPG/D&D 5.5e - G(r)ay.py
index 7267032..f03dc46 100644
--- a/ClientRPG/D&D 5.5e - G(r)ay.py	
+++ b/ClientRPG/D&D 5.5e - G(r)ay.py	
@@ -23,7 +23,7 @@ import sys
 import re
 import pickle
 #import numpy as np
-from PIL import ImageTk, Image
+from PIL import ImageTk, Image, ImageDraw
 from math import exp
 from math import floor, ceil
 import os
@@ -457,6 +457,7 @@ class IntSpinbox(ctk.CTkFrame):
                  to_: int = 100,
                  color: str = None,
                  variable: StringVar = None,
+                 rescale: int = 8,
                  **kwargs):
         super().__init__(*args, width=width, height=height, **kwargs)
 
@@ -464,21 +465,22 @@ class IntSpinbox(ctk.CTkFrame):
         self.from_ = from_
         self.to_ = to_
         self.variable = variable
+        self.rescale = rescale
 
-        self.configure(fg_color="gray20")  # set frame color
+        self.configure(fg_color="transparent")  # inherit parent color
 
         self.grid_columnconfigure((0, 2), weight=0)  # buttons don't expand
         self.grid_columnconfigure(1, weight=1)  # entry expands
 
         self.subtract_button = ctk.CTkButton(self, text="â–¼", width=height-6, border_color=color, border_width=2,
-                                                       fg_color="gray25", hover_color="gray35", font=("Roboto", 12), command = self.subtract_button_callback)
+                                             fg_color="gray30", hover_color="gray35", font=("Roboto", 12), command = self.subtract_button_callback)
         self.subtract_button.grid(row=0, column=0)
 
-        self.entry = ctk.CTkEntry(self, width=width-(2*height), border_width=0, fg_color="gray25", font=("Roboto", 12))
-        self.entry.grid(row=0, column=1, columnspan=1, padx=10/3, sticky="ew")
+        self.entry = ctk.CTkEntry(self, width=width-(2*height), border_width=0, fg_color="gray30", font=("Roboto", 12))
+        self.entry.grid(row=0, column=1, columnspan=1, padx=self.rescale/3, sticky="ew")
 
         self.add_button = ctk.CTkButton(self, text="â–²", width=height-6, border_color=color, border_width=2,
-                                                  fg_color="gray25", hover_color="gray35", font=("Roboto", 12), command = self.add_button_callback)
+                                          fg_color="gray30", hover_color="gray35", font=("Roboto", 12), command = self.add_button_callback)
         self.add_button.grid(row=0, column=2)
 
         # default value
@@ -651,6 +653,8 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self.configure(fg_color="gray15")
         self.protocol("WM_DELETE_WINDOW", self.withdraw)
         self._loaded_filepath = None
+        self.portrait_path = ""
+        self._portrait_image = None  # Keep reference to CTkImage
         
         # Styling
         self.color = getattr(parent, 'color', "#d63384")
@@ -696,7 +700,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self.main_frame = ctk.CTkScrollableFrame(self, fg_color="gray15",
                                                   scrollbar_button_color="gray25",
                                                   scrollbar_button_hover_color="gray35")
-        self.main_frame.pack(fill="both", expand=True, padx=0, pady=0)
+        self.main_frame.pack(fill="both", expand=True, padx=0, pady=(self.p, 0))
         self.main_frame.columnconfigure(0, weight=1)
         
         # State for delta updates
@@ -725,30 +729,48 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         """Section frame matching standard client style"""
         return ctk.CTkFrame(parent, fg_color="gray20", corner_radius=8)
 
-    def create_section_header(self, parent, text, row=0, colspan=1, pack=True):
+    def create_section_header(self, parent, text, row=0, colspan=1, pack=True, pady=None):
         """Section header in a lighter label (Packed)"""
+        if pady is None:
+            pady = (self.p, 0)
         lbl = ctk.CTkLabel(parent, text=text, font=("Roboto", 12, "bold"),
                            fg_color="gray25", corner_radius=6, text_color="white",
                            anchor="w")
         if pack:
-            lbl.pack(fill="x", padx=self.p, pady=(self.p, 2))
+            lbl.pack(fill="x", padx=self.p, pady=pady)
         return lbl
 
     def create_header(self):
-        """Character info"""
+        """Character info with portrait"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
-        # Content Frame (Grid)
-        content = ctk.CTkFrame(frame, fg_color="transparent")
-        content.pack(fill="x", padx=self.p)
+        frame.pack(fill="x", pady=(0, self.p))
+        # Outer horizontal layout: [Portrait | Fields]
+        outer = ctk.CTkFrame(frame, fg_color="transparent")
+        outer.pack(fill="x", padx=self.p)
+        
+        # --- Portrait area (left) ---
+        portrait_frame = ctk.CTkFrame(outer, fg_color="gray20", corner_radius=8,
+                                      width=100, height=100)
+        portrait_frame.pack(side="left", pady=self.p)
+        portrait_frame.pack_propagate(False)  # Fixed size
+        
+        self.portrait_label = ctk.CTkLabel(portrait_frame, text="ðŸ“·\nPortrait",
+                                           font=("Roboto", 11), text_color="gray50",
+                                           cursor="hand2")
+        self.portrait_label.pack(expand=True, fill="both")
+        self.portrait_label.bind("<Button-1>", lambda e: self._load_portrait())
+        
+        # --- Fields area (right) ---
+        content = ctk.CTkFrame(outer, fg_color="transparent")
+        content.pack(side="left", fill="x", expand=True)
         content.columnconfigure((1, 3), weight=1)
         
-        fields = [("Name:", "name_entry", 0, 0), ("Class:", "class_entry", 0, 2),
-                  ("Race:", "race_entry", 1, 0), ("Lvl:", "level_entry", 1, 2),
-                  ("Bkg:", "background_entry", 2, 0), ("Lang:", "languages_entry", 2, 2)]
+        fields = [("Name: ", "name_entry", 0, 0), ("Class: ", "class_entry", 0, 2),
+                  ("Race: ", "race_entry", 1, 0), ("Lvl: ", "level_entry", 1, 2),
+                  ("Bkg: ", "background_entry", 2, 0), ("Lang: ", "languages_entry", 2, 2)]
         for lbl, attr, r, c in fields:
-            pad_y = (4, 4) if r == 0 else (2, self.p)
-            ctk.CTkLabel(content, text=lbl, font=("Roboto", 12)).grid(row=r, column=c, padx=self.p, pady=pad_y, sticky="e")
+            pad_y = (self.p, 0) if r != 2 else (self.p, self.p)
+            ctk.CTkLabel(content, text=lbl, font=("Roboto", 12)).grid(row=r, column=c, padx=(self.p, 0), pady=pad_y, sticky="e")
             if lbl == "Lvl:":
                 w = 50
             elif lbl == "Lang:":
@@ -756,53 +778,88 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             else:
                 w = 140
             entry = ctk.CTkEntry(content, font=("Roboto", 12), fg_color="gray25", border_width=0, width=w)
-            entry.grid(row=r, column=c+1, padx=self.p, pady=pad_y, sticky="ew" if lbl != "Lvl:" else "w")
+            entry.grid(row=r, column=c+1, padx=0, pady=pad_y, sticky="ew" if lbl != "Lvl:" else "w")
             entry.bind("<FocusOut>", self.autosave_roll_configs)
             setattr(self, attr, entry)
 
+    def _load_portrait(self):
+        """Open file dialog to pick a portrait image"""
+        filepath = filedialog.askopenfilename(
+            title="Select Character Portrait",
+            filetypes=[("Image Files", "*.jpg *.jpeg *.png *.gif *.webp *.bmp"),
+                       ("All Files", "*.*")])
+        if filepath:
+            self.portrait_path = filepath
+            self._update_portrait_display()
+            self.autosave_roll_configs()
+            if hasattr(self, 'parent') and hasattr(self.parent, 'send_portrait_update'):
+                self.parent.send_portrait_update()
+
+    def _update_portrait_display(self):
+        """Render the portrait image in the header"""
+        if self.portrait_path:
+            # Resolve relative paths against BASE_DIR
+            path = self.portrait_path
+            if not os.path.isabs(path):
+                path = os.path.join(BASE_DIR, path)
+            if os.path.exists(path):
+                try:
+                    img = Image.open(path)
+                    img = img.resize((100, 100), Image.LANCZOS)
+                    self._portrait_image = ctk.CTkImage(light_image=img,
+                                                        dark_image=img,
+                                                        size=(100, 100))
+                    self.portrait_label.configure(image=self._portrait_image, text="")
+                    return
+                except Exception as e:
+                    print(f"Portrait load error: {e}")
+        # Fallback: show placeholder
+        self.portrait_label.configure(image=None, text="ðŸ“·\nPortrait")
+        self._portrait_image = None
+
     def create_stats_section(self):
         """MIND, SOUL, SENSES, BODY"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         # Content Frame
         content = ctk.CTkFrame(frame, fg_color="transparent")
-        content.pack(fill="x", padx=self.p, pady=(0, self.p))
+        content.pack(fill="x", padx=self.p)
         content.columnconfigure((0, 1, 2, 3), weight=1)
         
         for i, stat in enumerate(["Mind", "Soul", "Senses", "Body"]):
-            ctk.CTkLabel(content, text=stat, font=("Roboto", 12, "bold")).grid(row=0, column=i, padx=2, pady=(0, 2))
+            ctk.CTkLabel(content, text=stat, font=("Roboto", 12, "bold")).grid(row=0, column=i, padx=(0, self.p), pady=(2, 0))
             entry = ctk.CTkEntry(content, font=("Roboto", 12), width=50, justify="center",
                                  fg_color="gray25", border_width=0)
-            entry.grid(row=1, column=i, padx=self.p, pady=(0, 0))
+            entry.grid(row=1, column=i, padx=(0, self.p), pady=(0, self.p if i != 3 else 0))
             entry.bind("<FocusOut>", self.autosave_roll_configs)
             self.stat_entries[stat] = entry
 
     def create_combat_section(self):
         """PCN, AA, Spd, Prof, Vit & Saves"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x")
         
         self.create_section_header(frame, "Combat & Saves", colspan=2)
         
         # Two main rows: Combat Stats (Top) and Horizontal Saves (Bottom)
         main_content = ctk.CTkFrame(frame, fg_color="transparent")
-        main_content.pack(fill="x", padx=self.p, pady=self.p)
+        main_content.pack(fill="x", padx=self.p)
         
         # --- Top Row: Combat Stats ---
         stats_frame = ctk.CTkFrame(main_content, fg_color="transparent")
-        stats_frame.pack(fill="x", pady=(0, 6))
+        stats_frame.pack(fill="x", pady=(0, self.p-2))
         stats_frame.columnconfigure((0, 1, 2, 3, 4, 5, 6), weight=1)
         
         combat_stats = [("PCN", "PCN"), ("AA", "AA"), ("Spd", "Spd"), ("Prof", "Prof"), ("Vit", "Vit")]
         for i, (lbl, key) in enumerate(combat_stats):
             sub = ctk.CTkFrame(stats_frame, fg_color="transparent")
-            sub.grid(row=0, column=i, sticky="nsew", padx=2)
+            sub.grid(row=0, column=i, sticky="nsew", padx=(0, self.p))
             sub.columnconfigure(0, weight=1)
             
-            ctk.CTkLabel(sub, text=lbl, font=("Roboto", 11, "bold")).pack(pady=(0, 2))
+            ctk.CTkLabel(sub, text=lbl, font=("Roboto", 11, "bold")).pack()
             entry = ctk.CTkEntry(sub, font=("Roboto", 12), width=42, justify="center",
                                  fg_color="gray25", border_width=0)
-            entry.pack(pady=(0, 4))
+            entry.pack()
             entry.bind("<FocusOut>", self.autosave_roll_configs)
             self.combat_entries[key] = entry
             
@@ -812,46 +869,46 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         # Exhaustion (0-10)
         exh_sub = ctk.CTkFrame(stats_frame, fg_color="transparent")
-        exh_sub.grid(row=0, column=5, sticky="nsew", padx=2)
+        exh_sub.grid(row=0, column=5, sticky="nsew", padx=(0, self.p))
         exh_sub.columnconfigure(0, weight=1)
-        ctk.CTkLabel(exh_sub, text="Exh", font=("Roboto", 11, "bold")).pack(pady=(0, 2))
+        ctk.CTkLabel(exh_sub, text="Exh", font=("Roboto", 11, "bold")).pack()
         exh_entry = ctk.CTkEntry(exh_sub, font=("Roboto", 12), width=42, justify="center",
                                   fg_color="gray25", border_width=0,
                                   textvariable=self.exhaustion_var)
-        exh_entry.pack(pady=(0, 4))
+        exh_entry.pack()
         exh_entry.bind("<KeyRelease>", lambda e: self.update_net_adv())
         
         # Net Advantage (read-only)
         nadv_sub = ctk.CTkFrame(stats_frame, fg_color="transparent")
-        nadv_sub.grid(row=0, column=6, sticky="nsew", padx=2)
+        nadv_sub.grid(row=0, column=6, sticky="nsew", padx=(0, self.p))
         nadv_sub.columnconfigure(0, weight=1)
-        ctk.CTkLabel(nadv_sub, text="Net Adv", font=("Roboto", 11, "bold")).pack(pady=(0, 2))
+        ctk.CTkLabel(nadv_sub, text="Net Adv", font=("Roboto", 11, "bold")).pack()
         self.net_adv_label = ctk.CTkLabel(nadv_sub, text="0", font=("Roboto", 12, "bold"),
                                            fg_color="gray25", corner_radius=4, width=42, height=28)
-        self.net_adv_label.pack(pady=(0, 4))
+        self.net_adv_label.pack()
 
         # --- Bottom Row: Horizontal Saves ---
         saves_frame = ctk.CTkFrame(main_content, fg_color="transparent")
-        saves_frame.pack(fill="x", pady=(4, 0))
+        saves_frame.pack(fill="x", pady=(0, self.p))
         # 4 columns for 4 saves
         saves_frame.columnconfigure((0, 1, 2, 3), weight=1)
         
         for i, stat in enumerate(["Mind", "Soul", "Senses", "Body"]):
             # Create a vertical card for each save
             s_card = ctk.CTkFrame(saves_frame, fg_color="gray25", corner_radius=6)
-            s_card.grid(row=0, column=i, sticky="nsew", padx=4, pady=0)
+            s_card.grid(row=0, column=i, sticky="nsew", padx=(0, self.p))
             s_card.columnconfigure(0, weight=1) # Center content
             
             # 1) Stat Name
-            ctk.CTkLabel(s_card, text=stat, font=("Roboto", 11, "bold")).pack(pady=(4, 2))
+            ctk.CTkLabel(s_card, text=stat, font=("Roboto", 11, "bold")).pack(pady=(self.p, 0))
             
             # 2) Base Entry
             base_frame = ctk.CTkFrame(s_card, fg_color="transparent")
-            base_frame.pack(pady=2)
-            ctk.CTkLabel(base_frame, text="Base:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=2)
+            base_frame.pack()
+            ctk.CTkLabel(base_frame, text="Base:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=self.p)
             base_entry = ctk.CTkEntry(base_frame, font=("Roboto", 11), width=35, justify="center",
                                        fg_color="gray20", border_width=0)
-            base_entry.pack(side="left", padx=2)
+            base_entry.pack(side="left", padx=self.p)
             base_entry.bind("<KeyRelease>", lambda _, s=stat: self.update_save_total(s))
             base_entry.bind("<FocusOut>", self.autosave_roll_configs)
             self.save_entries[stat] = base_entry
@@ -860,38 +917,38 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             prof_var = StringVar(value="-")
             prof_seg = ctk.CTkSegmentedButton(s_card, values=["-", "Â½", "F", "E"], variable=prof_var,
                                                font=("Roboto", 10), width=80, height=20,
-                                               fg_color="gray20", selected_color=self.color,
-                                               selected_hover_color="gray30",
+                                               fg_color="gray25", bg_color="gray30", selected_color=self.color,
+                                               selected_hover_color="gray35",
                                                command=lambda _, s=stat: self.update_save_total(s))
-            prof_seg.pack(pady=4)
+            prof_seg.pack(pady=(self.p, 0))
             
             # 4) Total (Big)
             total_lbl = ctk.CTkLabel(s_card, text="+0", font=("Roboto", 14, "bold"))
-            total_lbl.pack(pady=2)
+            total_lbl.pack(pady=(self.p, 0))
             
             # 5) Advantage
             adv_frame = ctk.CTkFrame(s_card, fg_color="transparent")
-            adv_frame.pack(pady=(2, 6))
-            ctk.CTkLabel(adv_frame, text="Adv:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=2)
+            adv_frame.pack(pady=(0, self.p))
+            ctk.CTkLabel(adv_frame, text="Adv:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=self.p)
             adv_var = StringVar(value="0")
             adv_menu = ctk.CTkOptionMenu(adv_frame, variable=adv_var, values=[str(v) for v in self.ADV_VALUES],
                                           font=("Roboto", 10), width=50, height=20,
-                                          fg_color="gray20", button_color="gray30", button_hover_color="gray35")
-            adv_menu.pack(side="left", padx=2)
+                                          fg_color="gray30", bg_color="gray25", button_color="gray35", button_hover_color="gray40")
+            adv_menu.pack(side="left", padx=self.p)
             
             self.save_widgets[stat] = (prof_var, adv_var, total_lbl)
 
     def create_conditions_section(self):
         """Dedicated tracker for D&D Conditions"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=self.p)
         self.create_section_header(frame, "Conditions Tracker")
         
         main_content = ctk.CTkFrame(frame, fg_color="transparent")
-        main_content.pack(fill="x", padx=self.p, pady=self.p)
+        main_content.pack(fill="x", padx=self.p, pady=(0,self.p))
         
         cond_frame = ctk.CTkFrame(main_content, fg_color="gray25", corner_radius=6)
-        cond_frame.pack(fill="x", pady=(0, 4))
+        cond_frame.pack(fill="x", pady=self.p)
         # 3 or 4 columns to make it look full
         cond_frame.columnconfigure((0, 1, 2), weight=1)
         
@@ -902,15 +959,15 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                                   font=("Roboto", 10), checkbox_width=16, checkbox_height=16,
                                   fg_color=self.color, border_color=self.color, hover_color=self.color,
                                   command=self.on_condition_change)
-            cb.grid(row=r, column=c, padx=8, pady=4, sticky="w")
+            cb.grid(row=r, column=c, padx=(self.p, 0), pady=(self.p if r == 0 else 0, self.p), sticky="w")
 
     def create_aspect_row(self, parent, aspect_name, row):
         """Aspect row: Name | Value | Prof(None/Half/Full) | Adv(spinbox)"""
         aspect_name = aspect_name.strip()
         
         # Revert to Card Style: separate frame for each row
-        row_frame = ctk.CTkFrame(parent, fg_color="gray30", corner_radius=6)
-        row_frame.grid(row=row, column=0, columnspan=5, sticky="ew", padx=self.p, pady=2)
+        row_frame = ctk.CTkFrame(parent, fg_color="gray25", corner_radius=6)
+        row_frame.grid(row=row, column=0, columnspan=5, sticky="ew", padx=self.p, pady=(self.p, 0))
         
         # Rigid Column Configuration to force alignment across separate frames
         row_frame.columnconfigure(0, weight=1, minsize=180) # Name: Fixed min width
@@ -920,12 +977,12 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         row_frame.columnconfigure(4, weight=0, minsize=75)  # Adv
 
         ctk.CTkLabel(row_frame, text=aspect_name, font=("Roboto", 12), anchor="w").grid(
-            row=0, column=0, padx=(self.p, 2), pady=4, sticky="w")
+            row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="w")
         
         # Base value entry
         val_entry = ctk.CTkEntry(row_frame, font=("Roboto", 12), width=45, justify="center",
-                                  fg_color="gray20", border_width=0, corner_radius=4)
-        val_entry.grid(row=0, column=1, padx=2, pady=4, sticky="ew")
+                                  fg_color="gray25", border_width=0, corner_radius=4)
+        val_entry.grid(row=0, column=1, padx=(0, self.p), pady=self.p, sticky="ew")
         val_entry.bind("<KeyRelease>", lambda e: self.update_aspect_total(aspect_name))
         val_entry.bind("<FocusOut>", self.autosave_roll_configs)
         
@@ -935,26 +992,26 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         if aspect_name not in ["Concentration", "Meditation", "Precision", "Potency"]:
             prof_seg = ctk.CTkSegmentedButton(row_frame, values=["-", "Â½", "F", "E"], variable=prof_var,
                                                font=("Roboto", 11), width=80, height=24,
-                                               fg_color="gray20", selected_color=self.color,
-                                               selected_hover_color="gray40",
+                                               fg_color="gray25", bg_color="gray30", selected_color=self.color,
+                                           selected_hover_color="gray35",
                                                command=lambda v, a=aspect_name: self.on_aspect_prof_change(a, v))
-            prof_seg.grid(row=0, column=2, padx=2, pady=4, sticky="ew")
+            prof_seg.grid(row=0, column=2, padx=(0, self.p), pady=self.p, sticky="ew")
         else:
             # Spacer
             ctk.CTkLabel(row_frame, text="", width=84, height=24).grid(
-                row=0, column=2, padx=2, pady=4, sticky="ew")
+                row=0, column=2, padx=(0, self.p), pady=self.p, sticky="ew")
 
         # Total Label
-        total_lbl = ctk.CTkLabel(row_frame, text="+0", font=("Roboto", 12, "bold"), width=45)
-        total_lbl.grid(row=0, column=3, padx=2, pady=4, sticky="ew")
+        total_lbl = ctk.CTkLabel(row_frame, text="+0", fg_color="gray30", font=("Roboto", 12, "bold"), width=45)
+        total_lbl.grid(row=0, column=3, padx=(0, self.p), pady=self.p, sticky="ew")
         
         # Advantage: option menu with valid values
         adv_var = StringVar(value="0")
         adv_menu = ctk.CTkOptionMenu(row_frame, variable=adv_var, values=[str(v) for v in self.ADV_VALUES],
                                       font=("Roboto", 11), width=75, height=24,
-                                      fg_color="gray20", button_color="gray30", button_hover_color="gray35",
-                                      dropdown_fg_color="gray20")
-        adv_menu.grid(row=0, column=4, padx=(2, 4), pady=4, sticky="ew")
+                                      fg_color="gray30", bg_color="gray25", button_color="gray35", button_hover_color="gray40",
+                                      dropdown_fg_color="gray25")
+        adv_menu.grid(row=0, column=4, padx=(0, self.p), pady=self.p, sticky="ew")
         
         self.aspect_widgets[aspect_name] = (val_entry, prof_var, adv_var, total_lbl)
         self._prof_state[aspect_name] = "-"
@@ -963,7 +1020,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
     def create_aspects_section(self):
         """All 16 aspects with proficiency and advantage (Card Layout)"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
         # Single column for parent frame (it holds full-width row_frames)
         frame.columnconfigure(0, weight=1)
@@ -977,7 +1034,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         # Column headers
         hdr_frame = ctk.CTkFrame(content_frame, fg_color="transparent", corner_radius=0)
-        hdr_frame.grid(row=0, column=0, sticky="ew")
+        hdr_frame.grid(row=0, column=0, sticky="ew", padx=self.p)
         
         # MATCHING Configuration to `create_aspect_row`
         hdr_frame.columnconfigure(0, weight=1, minsize=180) # Name match
@@ -987,15 +1044,15 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         hdr_frame.columnconfigure(4, weight=0, minsize=75)  # Adv match
 
         ctk.CTkLabel(hdr_frame, text="Aspect", font=("Roboto", 11, "bold"), anchor="w").grid(
-            row=0, column=0, padx=(self.p, 2), pady=2, sticky="w")
+            row=0, column=0, padx=(self.p, 0), sticky="w")
         ctk.CTkLabel(hdr_frame, text="Val", font=("Roboto", 11, "bold"), width=45).grid(
-            row=0, column=1, padx=2, pady=2, sticky="ew")
+            row=0, column=1, padx=(0, self.p), sticky="ew")
         ctk.CTkLabel(hdr_frame, text="Prof", font=("Roboto", 11, "bold"), width=82).grid(
-            row=0, column=2, padx=2, pady=2, sticky="ew")
+            row=0, column=2, padx=(0, self.p), sticky="ew")
         ctk.CTkLabel(hdr_frame, text="Total", font=("Roboto", 11, "bold"), width=45).grid(
-            row=0, column=3, padx=2, pady=2, sticky="ew")
+            row=0, column=3, padx=(0, self.p), sticky="ew")
         ctk.CTkLabel(hdr_frame, text="Adv", font=("Roboto", 11, "bold"), width=75).grid(
-            row=0, column=4, padx=2, pady=2, sticky="ew")
+            row=0, column=4, padx=(0, self.p), sticky="ew")
         
         aspects_by_category = [
             ("Mind", ["Concentration", "Investigation", "Convincing", "Simulation"]),
@@ -1008,7 +1065,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         for category, aspects in aspects_by_category:
             # Revert to standard divider look
             ctk.CTkLabel(content_frame, text=f"â”€ {category} â”€", font=("Roboto", 9, "bold"), text_color="gray50").grid(
-                row=row, column=0, padx=self.p, pady=(self.p//2, 2), sticky="ew")
+                row=row, column=0, padx=self.p, pady=(self.p, 0), sticky="ew")
             row += 1
             for aspect in aspects:
                 self.create_aspect_row(content_frame, aspect, row)
@@ -1017,7 +1074,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
     def create_knowledge_section(self):
         """Knowledge fields linked to aspects"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         frame.columnconfigure(0, weight=3)
         frame.columnconfigure(1, weight=0)
         frame.columnconfigure(2, weight=0)
@@ -1028,7 +1085,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         # Content Container
         content_frame = ctk.CTkFrame(frame, fg_color="transparent")
-        content_frame.pack(fill="x", padx=self.p, pady=(0, 6))
+        content_frame.pack(fill="x", padx=self.p, pady=(0, self.p))
         content_frame.columnconfigure(0, weight=3)
         content_frame.columnconfigure(1, weight=0)
         content_frame.columnconfigure(2, weight=0)
@@ -1045,51 +1102,51 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         hdr_frame.columnconfigure(3, weight=0)
         hdr_frame.columnconfigure(4, weight=0)
         ctk.CTkLabel(hdr_frame, text="Field", font=("Roboto", 11, "bold"), anchor="w").grid(
-            row=0, column=0, padx=(self.p, 2), pady=2, sticky="w")
+            row=0, column=0, padx=self.p, sticky="w")
         ctk.CTkLabel(hdr_frame, text="Prof", font=("Roboto", 11, "bold"), width=70).grid(
-            row=0, column=1, padx=2, pady=2)
-        ctk.CTkLabel(hdr_frame, text="Linked Aspect", font=("Roboto", 11, "bold"), width=120, anchor="w").grid(
-            row=0, column=2, padx=self.p, pady=2, sticky="w")
+            row=0, column=1, padx=self.p)
+        ctk.CTkLabel(hdr_frame, text="Linked aspect", font=("Roboto", 11, "bold"), anchor="w").grid(
+            row=0, column=2, padx=self.p)
         ctk.CTkLabel(hdr_frame, text="Total", font=("Roboto", 11, "bold"), width=30).grid(
-            row=0, column=3, padx=2, pady=2)
+            row=0, column=3, padx=self.p)
         ctk.CTkLabel(hdr_frame, text="Adv", font=("Roboto", 11, "bold"), width=60).grid(
-            row=0, column=4, padx=2, pady=2)
+            row=0, column=4, padx=self.p)
         
         for i, (field, linked_aspect) in enumerate(self.KNOWLEDGE_ASPECTS.items()):
             row = 1 + i
             # Container
-            row_frame = ctk.CTkFrame(content_frame, fg_color="gray30", corner_radius=6)
-            row_frame.grid(row=row, column=0, columnspan=5, sticky="ew", pady=2)
+            row_frame = ctk.CTkFrame(content_frame, fg_color="gray25", corner_radius=6)
+            row_frame.grid(row=row, column=0, columnspan=5, sticky="ew", pady=(self.p, 0))
             row_frame.columnconfigure(0, weight=3)
             row_frame.columnconfigure(1, weight=0)
             row_frame.columnconfigure(2, weight=0)
             row_frame.columnconfigure(3, weight=0)
             row_frame.columnconfigure(4, weight=0)
 
-            ctk.CTkLabel(row_frame, text=field, font=("Roboto", 12), anchor="w").grid(row=0, column=0, padx=(self.p, 2), pady=4, sticky="w")
+            ctk.CTkLabel(row_frame, text=field, font=("Roboto", 12), anchor="w").grid(row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="w")
             
             prof_var = StringVar(value="-")
             prof_seg = ctk.CTkSegmentedButton(row_frame, values=["-", "Â½", "F"], variable=prof_var,
                                                font=("Roboto", 11), width=70, height=20,
-                                               fg_color="gray20", selected_color=self.color,
-                                               selected_hover_color="gray40",
+                                               fg_color="gray25", bg_color="gray30", selected_color=self.color,
+                                               selected_hover_color="gray35",
                                                command=lambda _, f=field: self.update_knowledge_fields())
-            prof_seg.grid(row=0, column=1, padx=2, pady=4)
+            prof_seg.grid(row=0, column=1, padx=(0, self.p), pady=self.p)
             
-            ctk.CTkLabel(row_frame, text=f"â†’ {linked_aspect}", font=("Roboto", 11), text_color="gray50", width=120, anchor="w").grid(
-                row=0, column=2, padx=self.p, pady=4, sticky="w")
+            ctk.CTkLabel(row_frame, text=f"â†’ {linked_aspect}", font=("Roboto", 11), text_color="gray50", width=105, anchor="w").grid(
+                row=0, column=2, padx=(0, self.p), pady=self.p, sticky="w")
             
             # Calculated Value Label
             val_lbl = ctk.CTkLabel(row_frame, text="-6", font=("Roboto", 12, "bold"), width=30)
-            val_lbl.grid(row=0, column=3, padx=2, pady=4)
+            val_lbl.grid(row=0, column=3, padx=(0, self.p), pady=self.p)
             
             # Advantage
             adv_var = StringVar(value="0")
             adv_menu = ctk.CTkOptionMenu(row_frame, variable=adv_var, values=[str(v) for v in self.ADV_VALUES],
                                           font=("Roboto", 11), width=60, height=24,
-                                          fg_color="gray20", button_color="gray30", button_hover_color="gray35",
-                                          dropdown_fg_color="gray20")
-            adv_menu.grid(row=0, column=4, padx=(2, 4), pady=4)
+                                          fg_color="gray20", button_color="gray25", button_hover_color="gray30",
+                                          dropdown_fg_color="gray25")
+            adv_menu.grid(row=0, column=4, padx=(0, self.p), pady=self.p)
             
             self.knowledge_widgets[field] = (prof_var, val_lbl, linked_aspect, adv_var)
         
@@ -1097,49 +1154,49 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         # Extra bottom padding on last row
         last_row = 1 + len(self.KNOWLEDGE_ASPECTS) - 1
         for w in content_frame.grid_slaves(row=last_row):
-            w.grid_configure(pady=(2, self.p))
+            w.grid_configure(pady=(self.p, 0))
 
     def create_tools_section(self):
         """Tools linked to aspects - dynamic add/remove"""
         self.tools_frame = self.create_bordered_frame(self.main_frame)
-        self.tools_frame.pack(fill="x", pady=(0, 6))
+        self.tools_frame.pack(fill="x", pady=(0, self.p))
         
         self.create_section_header(self.tools_frame, "Tools (linked to Aspects)", colspan=1)
         
         # Content Container
         content_frame = ctk.CTkFrame(self.tools_frame, fg_color="transparent")
-        content_frame.pack(fill="x", padx=self.p, pady=(0, 6))
+        content_frame.pack(fill="x", padx=self.p, pady=(0, self.p))
         content_frame.columnconfigure(0, weight=1)
         
         # Column headers
         hdr_frame = ctk.CTkFrame(content_frame, fg_color="transparent", corner_radius=0)
-        hdr_frame.grid(row=0, column=0, sticky="ew")
+        hdr_frame.grid(row=0, column=0, sticky="ew", padx=self.p)
         hdr_frame.columnconfigure(0, weight=3)
         hdr_frame.columnconfigure(1, weight=0)
         hdr_frame.columnconfigure(2, weight=0)
         hdr_frame.columnconfigure(3, weight=0)
         hdr_frame.columnconfigure(4, weight=0)
         hdr_frame.columnconfigure(5, weight=0)
-        ctk.CTkLabel(hdr_frame, text="Tool", font=("Roboto", 11, "bold"), anchor="w").grid(
-            row=0, column=0, padx=(self.p, 2), pady=2, sticky="w")
+        ctk.CTkLabel(hdr_frame, text="Tool", font=("Roboto", 11, "bold")).grid(
+            row=0, column=0, padx=(self.p, 0))
         ctk.CTkLabel(hdr_frame, text="Prof", font=("Roboto", 11, "bold"), width=70).grid(
-            row=0, column=1, padx=2, pady=2)
-        ctk.CTkLabel(hdr_frame, text="Linked Aspect", font=("Roboto", 11, "bold"), width=100, anchor="w").grid(
-            row=0, column=2, padx=4, pady=2, sticky="w")
+            row=0, column=1, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="Linked aspect", font=("Roboto", 11, "bold")).grid(
+            row=0, column=2, padx=(0, self.p))
         ctk.CTkLabel(hdr_frame, text="Total", font=("Roboto", 11, "bold"), width=30).grid(
-            row=0, column=3, padx=2, pady=2)
+            row=0, column=3, padx=(0, self.p))
         ctk.CTkLabel(hdr_frame, text="Adv", font=("Roboto", 11, "bold"), width=60).grid(
-            row=0, column=4, padx=2, pady=2)
-        # Spacer for âœ• button column
-        ctk.CTkLabel(hdr_frame, text="", width=28).grid(row=0, column=5, padx=(2, 4), pady=2)
+            row=0, column=4, padx=(0, self.p))
+        # Spacer for Ã— button column
+        ctk.CTkLabel(hdr_frame, text="", width=28).grid(row=0, column=5, padx=(0, self.p))
         
         # Container for dynamic tool rows
         self.tools_container = ctk.CTkFrame(content_frame, fg_color="transparent", height=0)
-        self.tools_container.grid(row=1, column=0, sticky="ew", padx=0, pady=0)
+        self.tools_container.grid(row=1, column=0, sticky="ew", padx=0, pady=(0,self.p))
         
         # Add buttons footer (all on one row)
         add_footer = ctk.CTkFrame(content_frame, fg_color="transparent")
-        add_footer.grid(row=2, column=0, sticky="ew", pady=(4, self.p))
+        add_footer.grid(row=2, column=0, sticky="ew")
         
         self._tool_set_var = StringVar(value="Add Tool Set...")
         ctk.CTkOptionMenu(add_footer, variable=self._tool_set_var,
@@ -1147,7 +1204,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                           font=("Roboto", 10), width=130, height=24,
                           fg_color="gray25", button_color="gray30",
                           button_hover_color="gray35", dropdown_fg_color="gray20",
-                          command=lambda v: self._add_tool_item(v, "Dexterity", self._tool_set_var, "Add Tool Set...")).pack(side="left", padx=(0, 4))
+                          command=lambda v: self._add_tool_item(v, "Dexterity", self._tool_set_var, "Add Tool Set...")).pack(side="left", padx=(0, self.p))
         
         self._instrument_var = StringVar(value="Add Instrument...")
         ctk.CTkOptionMenu(add_footer, variable=self._instrument_var,
@@ -1155,7 +1212,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                           font=("Roboto", 10), width=130, height=24,
                           fg_color="gray25", button_color="gray30",
                           button_hover_color="gray35", dropdown_fg_color="gray20",
-                          command=lambda v: self._add_tool_item(v, "Performance", self._instrument_var, "Add Instrument...")).pack(side="left", padx=(0, 4))
+                          command=lambda v: self._add_tool_item(v, "Performance", self._instrument_var, "Add Instrument...")).pack(side="left", padx=(0, self.p))
         
         self._gaming_var = StringVar(value="Add Gaming Set...")
         ctk.CTkOptionMenu(add_footer, variable=self._gaming_var,
@@ -1163,12 +1220,12 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                           font=("Roboto", 10), width=130, height=24,
                           fg_color="gray25", button_color="gray30",
                           button_hover_color="gray35", dropdown_fg_color="gray20",
-                          command=lambda v: self._add_tool_item(v, "Awareness", self._gaming_var, "Add Gaming Set...")).pack(side="left", padx=(0, 4))
+                          command=lambda v: self._add_tool_item(v, "Awareness", self._gaming_var, "Add Gaming Set...")).pack(side="left", padx=(0, self.p))
         
         # Separator
-        ctk.CTkLabel(add_footer, text="|", font=("Roboto", 11), text_color="gray40").pack(side="left", padx=(0, 4))
+        ctk.CTkLabel(add_footer, text="|", font=("Roboto", 11), text_color="gray40").pack(side="left", padx=(0, self.p))
         
-        # Custom tool: name entry + aspect dropdown + Add button
+        # Custom tool: name entry + aspect dropdown Add button
         aspect_names = ["Dexterity", "Performance", "Awareness", "Investigation",
                         "Convincing", "Simulation", "Meditation", "Trustworthiness",
                         "Acrobatics", "Athletics", "Constitution", "Concentration"]
@@ -1176,17 +1233,18 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self._custom_tool_name = ctk.CTkEntry(add_footer, font=("Roboto", 10), width=120, height=24,
                                                fg_color="gray25", border_width=0,
                                                placeholder_text="Custom name...")
-        self._custom_tool_name.pack(side="left", padx=(0, 4))
+        self._custom_tool_name.pack(side="left", padx=(0, self.p))
         
         self._custom_aspect_var = StringVar(value="Dexterity")
         ctk.CTkOptionMenu(add_footer, variable=self._custom_aspect_var,
                           values=aspect_names,
                           font=("Roboto", 10), width=110, height=24,
                           fg_color="gray25", button_color="gray30",
-                          button_hover_color="gray35", dropdown_fg_color="gray20").pack(side="left", padx=(0, 4))
+                          button_hover_color="gray35", dropdown_fg_color="gray20").pack(side="left", padx=(0, self.p))
         
         ctk.CTkButton(add_footer, text="Add", font=("Roboto", 10), width=40, height=24,
                       fg_color="gray25", hover_color="gray35",
+                      border_width=2, border_color=self.color,
                       command=self._add_custom_tool).pack(side="left")
 
     def _add_tool_item(self, name, linked_aspect, reset_var=None, reset_text=None):
@@ -1196,8 +1254,8 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         if not name or name in self.tool_widgets:
             return  # No duplicates or empty names
         
-        row_frame = ctk.CTkFrame(self.tools_container, fg_color="gray30", corner_radius=6)
-        row_frame.pack(fill="x", padx=self.p, pady=2)
+        row_frame = ctk.CTkFrame(self.tools_container, fg_color="gray25", corner_radius=6)
+        row_frame.pack(fill="x", pady=(self.p, 0))
         row_frame.columnconfigure(0, weight=3)
         row_frame.columnconfigure(1, weight=0)
         row_frame.columnconfigure(2, weight=0)
@@ -1205,38 +1263,39 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         row_frame.columnconfigure(4, weight=0)
         row_frame.columnconfigure(5, weight=0)
         
-        ctk.CTkLabel(row_frame, text=name, font=("Roboto", 12), anchor="w").grid(
-            row=0, column=0, padx=(self.p, 2), pady=4, sticky="w")
+        ctk.CTkLabel(row_frame, text=name, font=("Roboto", 12)).grid(
+            row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="w")
         
         # Proficiency: segmented button (-, Â½, F)
         prof_var = StringVar(value="-")
         prof_seg = ctk.CTkSegmentedButton(row_frame, values=["-", "Â½", "F"], variable=prof_var,
                                            font=("Roboto", 11), width=70, height=20,
-                                           fg_color="gray17", selected_color=self.color,
-                                           selected_hover_color=self.color,
+                                           fg_color="gray25", bg_color="gray30", selected_color=self.color,
+                                           selected_hover_color="gray35",
                                            command=lambda _: self.update_tool_fields())
-        prof_seg.grid(row=0, column=1, padx=2, pady=4)
+        prof_seg.grid(row=0, column=1, padx=(0, self.p), pady=self.p)
         
-        ctk.CTkLabel(row_frame, text=f"â†’ {linked_aspect}", font=("Roboto", 11),
-                     text_color="gray50", width=100, anchor="w").grid(
-            row=0, column=2, padx=4, pady=4, sticky="w")
+        ctk.CTkLabel(row_frame, text=f"â†’ {linked_aspect}", fg_color="gray25", font=("Roboto", 11),
+                     text_color="gray50", width=105, anchor="w").grid(
+            row=0, column=2, padx=self.p, pady=self.p, sticky="w")
         
-        val_lbl = ctk.CTkLabel(row_frame, text="-6", font=("Roboto", 12, "bold"), width=30)
-        val_lbl.grid(row=0, column=3, padx=2, pady=4)
+        val_lbl = ctk.CTkLabel(row_frame, text="-6", fg_color="gray30", font=("Roboto", 12, "bold"), width=30)
+        val_lbl.grid(row=0, column=3, padx=(0, self.p), pady=self.p)
         
         adv_var = StringVar(value="0")
         adv_menu = ctk.CTkOptionMenu(row_frame, variable=adv_var, values=[str(v) for v in self.ADV_VALUES],
                                       font=("Roboto", 11), width=60, height=24,
-                                      fg_color="gray17", button_color="gray25",
-                                      button_hover_color=self.color, dropdown_hover_color=self.color,
-                                      dropdown_fg_color="gray20")
-        adv_menu.grid(row=0, column=4, padx=2, pady=4)
-        
-        del_btn = ctk.CTkButton(row_frame, text="âœ•", width=24, height=24,
-                                fg_color="transparent", hover_color=self.color,
+                                      fg_color="gray25", button_color="gray30",
+                                      button_hover_color="gray35", dropdown_hover_color=self.color,
+                                      dropdown_fg_color="gray25")
+        adv_menu.grid(row=0, column=4, padx=(0, self.p), pady=self.p)
+        
+        del_btn = ctk.CTkButton(row_frame, text="Ã—", width=24, height=24, 
+                                fg_color="gray30", hover_color="gray35",
+                                border_width=2, border_color=self.color,
                                 font=("Roboto", 11),
                                 command=lambda n=name, f=row_frame: self._remove_tool_item(n, f))
-        del_btn.grid(row=0, column=5, padx=(2, 4), pady=4)
+        del_btn.grid(row=0, column=5, padx=(0, self.p), pady=self.p)
         
         self.tool_widgets[name] = (prof_var, val_lbl, linked_aspect, adv_var)
         self.update_tool_fields()
@@ -1286,14 +1345,14 @@ class CharacterSheetWindow(ctk.CTkToplevel):
     def create_footer(self):
         """Centered Save/Load"""
         footer = ctk.CTkFrame(self.main_frame, fg_color="transparent")
-        footer.pack(pady=0)
+        footer.pack()
         
         ctk.CTkButton(footer, text="Save", fg_color="gray25", hover_color="gray35",
                       border_color=self.color, border_width=2, font=("Roboto", 11), width=100,
-                      command=self.save_character).pack(side="left", padx=15)
+                      command=self.save_character).pack(side="left", padx=self.p)
         ctk.CTkButton(footer, text="Load", fg_color="gray25", hover_color="gray35",
                       border_color=self.color, border_width=2, font=("Roboto", 11), width=100,
-                      command=self.load_character).pack(side="left", padx=15)
+                      command=self.load_character).pack(side="left", padx=(0, self.p))
 
     def get_prof_bonus(self):
         """Get proficiency bonus from combat entries"""
@@ -1352,44 +1411,44 @@ class CharacterSheetWindow(ctk.CTkToplevel):
     def create_equipment_section(self):
         """Weapons, Armor, Spells, and Features"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
-        self.create_section_header(frame, "Equipment, Attacks & Items", colspan=2)
+        self.create_section_header(frame, "Equipment, Attacks & Items", colspan=2, pady=self.p)
         
         # --- Armor Section ---
         # Container for vertical stacking
         content_frame = ctk.CTkFrame(frame, fg_color="transparent")
-        content_frame.pack(fill="x", padx=self.p, pady=(0, 4))
+        content_frame.pack(fill="x", padx=self.p, pady=(0, self.p))
         
         armor_frame = ctk.CTkFrame(content_frame, fg_color="gray25", corner_radius=6)
-        armor_frame.pack(fill="x", pady=(0, 4))
+        armor_frame.pack(fill="x", pady=(0, self.p))
         
         # Header Label
-        ctk.CTkLabel(armor_frame, text="Armor & AA", font=("Roboto", 11, "bold")).pack(anchor="w", padx=self.p, pady=(2, 0))
+        ctk.CTkLabel(armor_frame, text="Armor & AA", font=("Roboto", 11, "bold")).pack(anchor="w", padx=self.p, pady=(self.p, 0))
         
         # Centralized Controls Frame
         controls_frame = ctk.CTkFrame(armor_frame, fg_color="transparent")
-        controls_frame.pack(pady=(0, 4))
+        controls_frame.pack(pady=(0, self.p))
         
         # Armor Type
         armor_types = ["None", "Padded", "Leather", "Studded leather", "Hide", "Chain shirt", "Scale mail", "Breastplate", "Half plate", "Ring mail", "Chain mail", "Splint", "Plate"]
-        ctk.CTkLabel(controls_frame, text="Type:", font=("Roboto", 11)).pack(side="left", padx=(0, 4))
+        ctk.CTkLabel(controls_frame, text="Type:", font=("Roboto", 11)).pack(side="left", padx=(0, self.p))
         armor_menu = ctk.CTkOptionMenu(controls_frame, values=armor_types, variable=self.armor_settings["type"],
                                         width=120, height=24, font=("Roboto", 11),
-                                        fg_color="gray17", button_color="gray25",
+                                        fg_color="gray30", button_color="gray35",
                                         button_hover_color=self.color, dropdown_hover_color=self.color,
                                         command=lambda _: self.update_aa())
-        armor_menu.pack(side="left", padx=(0, 10))
+        armor_menu.pack(side="left", padx=(0, self.p))
         
         # Aspect Selection
-        ctk.CTkLabel(controls_frame, text="Aspect:", font=("Roboto", 11)).pack(side="left", padx=(0, 4))
+        ctk.CTkLabel(controls_frame, text="Aspect:", font=("Roboto", 11)).pack(side="left", padx=(0, self.p))
         # Ensure Mobility is in the list and spelled correctly
         aspect_menu = ctk.CTkOptionMenu(controls_frame, values=["Resilience", "Mobility", "Dexterity", "Acrobatics"], variable=self.armor_settings["aspect"],
                                          width=100, height=24, font=("Roboto", 11),
-                                         fg_color="gray17", button_color="gray25",
+                                         fg_color="gray30", button_color="gray35",
                                          button_hover_color=self.color, dropdown_hover_color=self.color,
                                          command=lambda _: self.update_aa())
-        aspect_menu.pack(side="left", padx=(0, 10))
+        aspect_menu.pack(side="left", padx=(0, self.p))
         
         # Armor Proficiency Toggle
         # Default keys for Settings should be initialized in __init__ if not already
@@ -1398,71 +1457,70 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         if "shield_prof" not in self.armor_settings:
             self.armor_settings["shield_prof"] = BooleanVar(value=True)
             
-        # Row 2: Checkboxes
         shield_cb = ctk.CTkCheckBox(controls_frame, text="Shield", variable=self.armor_settings["shield"],
-                                     font=("Roboto", 11), checkbox_width=20, checkbox_height=20,
+                                     font=("Roboto", 11), checkbox_width=20, checkbox_height=20, width=0,
                                      hover_color=self.color, fg_color=self.color, border_color=self.color,
                                      command=self.update_aa)
-        shield_cb.pack(side="left", padx=(0, 10))
+        shield_cb.pack(side="left", padx=(0, self.p))
 
-        prof_cb = ctk.CTkCheckBox(controls_frame, text="Armor Prof", variable=self.armor_settings["prof"],
-                                   font=("Roboto", 11), checkbox_width=20, checkbox_height=20,
+        prof_cb = ctk.CTkCheckBox(controls_frame, text="Armor prof", variable=self.armor_settings["prof"],
+                                   font=("Roboto", 11), checkbox_width=20, checkbox_height=20, width=0,
                                    hover_color=self.color, fg_color=self.color, border_color=self.color,
                                    command=self.update_aa)
-        prof_cb.pack(side="left", padx=(0, 10))
+        prof_cb.pack(side="left", padx=(0, self.p))
         
-        sp_cb = ctk.CTkCheckBox(controls_frame, text="Shield Prof", variable=self.armor_settings["shield_prof"],
-                                   font=("Roboto", 11), checkbox_width=20, checkbox_height=20,
+        sp_cb = ctk.CTkCheckBox(controls_frame, text="Shield prof", variable=self.armor_settings["shield_prof"],
+                                   font=("Roboto", 11), checkbox_width=20, checkbox_height=20, width=0,
                                    hover_color=self.color, fg_color=self.color, border_color=self.color,
                                    command=self.update_aa)
-        sp_cb.pack(side="left", padx=(0, 4))
+        sp_cb.pack(side="left", padx=(0, self.p))
         
         # AA Extra Modifiers
-        ctk.CTkLabel(controls_frame, text="+", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(4, 5))
+        ctk.CTkLabel(controls_frame, text="+", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, self.p))
         self.aa_extra_const = ctk.CTkEntry(controls_frame, font=("Roboto", 11), width=35, height=22, placeholder_text="",
-                                           justify="center", fg_color="gray17", border_width=0)
-        self.aa_extra_const.pack(side="left", padx=(0, 2))
+                                           justify="center", fg_color="gray30", border_width=0)
+        self.aa_extra_const.pack(side="left", padx=(0, self.p))
         self.aa_extra_const.bind("<FocusOut>", self.autosave_roll_configs)
         self.aa_extra_const.insert(0, "") # Default empty
         
         # AA Extra Adv (Dropdown)
-        ctk.CTkLabel(controls_frame, text="Adv", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(2, 6))
+        ctk.CTkLabel(controls_frame, text="Adv", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, self.p))
         
         adv_values = ["-3", "-2", "-1", "", "1", "2", "3"]
         self.aa_extra_adv_var = StringVar(value="")
         self.aa_extra_adv = ctk.CTkOptionMenu(controls_frame, values=adv_values, variable=self.aa_extra_adv_var,
                                               width=50, height=22, font=("Roboto", 11),
-                                              fg_color="gray17", button_color="gray25",
+                                              fg_color="gray30", button_color="gray35",
                                               button_hover_color=self.color, dropdown_hover_color=self.color,
                                               command=lambda _: self.update_aa()) # Trigger update on change
-        self.aa_extra_adv.pack(side="left", padx=(0, 2))
+        self.aa_extra_adv.pack(side="left", padx=(0, self.p))
         
         # --- Weapons & Items Section ---
         # Column Headers for Weapons (Moved BEFORE items container)
         hdr_frame = ctk.CTkFrame(content_frame, fg_color="transparent", height=20)
-        hdr_frame.pack(fill="x", pady=(4, 0))
+        hdr_frame.pack(fill="x", padx=self.p)
         hdr_frame.columnconfigure(0, weight=1) # Name
         
-        ctk.CTkLabel(hdr_frame, text="Name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=4, sticky="ew")
-        ctk.CTkLabel(hdr_frame, text="Aspect", font=("Roboto", 11, "bold"), width=100).grid(row=0, column=1, padx=2)
-        ctk.CTkLabel(hdr_frame, text="Prof", font=("Roboto", 11, "bold"), width=40).grid(row=0, column=2, padx=4)
-        ctk.CTkLabel(hdr_frame, text="Type", font=("Roboto", 11, "bold"), width=60).grid(row=0, column=3, padx=2)
-        ctk.CTkLabel(hdr_frame, text="+", font=("Roboto", 11, "bold"), width=35).grid(row=0, column=4, padx=2)
-        ctk.CTkLabel(hdr_frame, text="Adv", font=("Roboto", 11, "bold"), width=50).grid(row=0, column=5, padx=2)
-        ctk.CTkLabel(hdr_frame, text="Total", font=("Roboto", 11, "bold"), width=40).grid(row=0, column=6, padx=4)
-        ctk.CTkLabel(hdr_frame, text="Desc", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=7, padx=2)
-        ctk.CTkLabel(hdr_frame, text="", width=28).grid(row=0, column=8, padx=(2,4))
+        ctk.CTkLabel(hdr_frame, text="Name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=(self.p, 0), sticky="ew")
+        ctk.CTkLabel(hdr_frame, text="Aspect", font=("Roboto", 11, "bold"), width=100).grid(row=0, column=1, padx=self.p)
+        ctk.CTkLabel(hdr_frame, text="Prof", font=("Roboto", 11, "bold"), width=40).grid(row=0, column=2, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="Type", font=("Roboto", 11, "bold"), width=60).grid(row=0, column=3, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="+", font=("Roboto", 11, "bold"), width=35).grid(row=0, column=4, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="Adv", font=("Roboto", 11, "bold"), width=50).grid(row=0, column=5, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="Total", font=("Roboto", 11, "bold"), width=40).grid(row=0, column=6, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="Desc", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=7, padx=(0, self.p))
+        ctk.CTkLabel(hdr_frame, text="", width=28).grid(row=0, column=8, padx=(0, self.p))
 
         # Items List
         self.items_container = ctk.CTkFrame(content_frame, fg_color="transparent", height=0)
-        self.items_container.pack(fill="x", pady=2)
+        self.items_container.pack(fill="x")
         self.items_container.columnconfigure(0, weight=1)
         
-        add_btn = ctk.CTkButton(content_frame, text="+ Add Weapon/Spell/Feature", font=("Roboto", 11),
+        add_btn = ctk.CTkButton(content_frame, text="Add Weapon/Spell/Feature", font=("Roboto", 11),
                                  fg_color="gray25", hover_color="gray35",
-                                 border_color=self.color, border_width=2,
+                                 border_width=2, border_color=self.color,
                                  command=self._add_weapon_row)
-        add_btn.pack(pady=self.p)
+        add_btn.pack(pady=(self.p, 0))
 
     def _add_weapon_row(self, name="", linked_aspect="Precision", prof=False, roll_type="Atk", extra_const="", extra_adv="", desc=""):
         """Add a dynamic weapon/item row with Atk/AS toggle and extra modifiers"""
@@ -1473,14 +1531,14 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             row_id = "0"
             
         row_frame = ctk.CTkFrame(self.items_container, fg_color="gray25", corner_radius=6)
-        row_frame.pack(fill="x", padx=self.p, pady=2)
+        row_frame.pack(fill="x", padx=self.p, pady=(self.p, 0))
         row_frame.columnconfigure(0, weight=1) # Name
         
         # Name Entry
         name_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), height=22, placeholder_text="Name",
-                                fg_color="gray17", border_width=1, border_color=self.color)
+                                fg_color="gray30", border_width=1, border_color=self.color)
         name_ent.insert(0, name)
-        name_ent.grid(row=0, column=0, padx=4, pady=4, sticky="ew")
+        name_ent.grid(row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="ew")
         name_ent.bind("<FocusOut>", self.autosave_roll_configs)
         
         # Aspect Menu
@@ -1488,33 +1546,33 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         asp_var = StringVar(value=linked_aspect)
         asp_menu = ctk.CTkOptionMenu(row_frame, values=aspects, variable=asp_var,
                                       width=100, height=22, font=("Roboto", 10),
-                                      fg_color="gray17", button_color="gray25",
+                                      fg_color="gray30", button_color="gray35",
                                       button_hover_color=self.color, dropdown_hover_color=self.color,
                                       command=lambda _: self.update_weapon_bonuses())
-        asp_menu.grid(row=0, column=1, padx=2, pady=4)
+        asp_menu.grid(row=0, column=1, padx=self.p, pady=self.p)
         
-        # Prof toggle
+        # prof toggle
         p_var = BooleanVar(value=prof)
         p_cb = ctk.CTkCheckBox(row_frame, text="", variable=p_var, font=("Roboto", 10),
                                 checkbox_width=16, checkbox_height=16, width=16,
                                 fg_color=self.color, hover_color="gray35",
                                 command=self.update_weapon_bonuses)
-        p_cb.grid(row=0, column=2, padx=14, pady=4) # Increased padding to center under "Prof" header (width 40 vs 16)
+        p_cb.grid(row=0, column=2, padx=(0, self.p), pady=self.p) # Increased padding to center under "Prof" header (width 40 vs 16)
         
         # Type Menu (Atk / AS)
         type_var = StringVar(value=roll_type)
         type_menu = ctk.CTkOptionMenu(row_frame, values=["Atk", "AS"], variable=type_var,
                                        width=60, height=22, font=("Roboto", 10),
-                                       fg_color="gray17", button_color="gray25",
+                                       fg_color="gray30", button_color="gray35",
                                        button_hover_color=self.color, dropdown_hover_color=self.color,
                                        command=lambda _: self.update_weapon_bonuses())
-        type_menu.grid(row=0, column=3, padx=2, pady=4)
+        type_menu.grid(row=0, column=3, padx=(0, self.p), pady=self.p)
 
         # Extra Const
         extra_const_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=35, height=22, placeholder_text="+",
-                                       justify="center", fg_color="gray17", border_width=0)
+                                       justify="center", fg_color="gray30", border_width=0)
         extra_const_ent.insert(0, extra_const)
-        extra_const_ent.grid(row=0, column=4, padx=2, pady=4)
+        extra_const_ent.grid(row=0, column=4, padx=(0, self.p), pady=self.p)
         extra_const_ent.bind("<KeyRelease>", self.update_weapon_bonuses)
         extra_const_ent.bind("<FocusOut>", self.autosave_roll_configs)
 
@@ -1526,29 +1584,29 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         extra_adv_menu = ctk.CTkOptionMenu(row_frame, values=adv_values, variable=extra_adv_var,
                                            width=50, height=22, font=("Roboto", 11),
-                                           fg_color="gray17", button_color="gray25",
+                                           fg_color="gray30", button_color="gray35",
                                            button_hover_color=self.color, dropdown_hover_color=self.color,
                                            command=lambda _: self.update_weapon_bonuses())
-        extra_adv_menu.grid(row=0, column=5, padx=2, pady=4)
+        extra_adv_menu.grid(row=0, column=5, padx=(0, self.p), pady=self.p)
         # Note: we store the Var in the widget list to get() it later
         
         # Total Label
         bonus_lbl = ctk.CTkLabel(row_frame, text="+0", font=("Roboto", 10, "bold"), width=40)
-        bonus_lbl.grid(row=0, column=6, padx=4, pady=4)
+        bonus_lbl.grid(row=0, column=6, padx=(0, self.p), pady=self.p)
         
         # Description button
         desc_data = [desc]
-        desc_btn = ctk.CTkButton(row_frame, text="ðŸ“", width=30, height=22, fg_color="gray25", hover_color="gray35",
+        desc_btn = ctk.CTkButton(row_frame, text="ðŸ“", width=30, height=22, fg_color="gray30", hover_color="gray35",
                                   border_color=self.color, border_width=2,
                                   command=lambda: self._open_feature_description(name_ent, desc_data))
-        desc_btn.grid(row=0, column=7, padx=2, pady=4)
+        desc_btn.grid(row=0, column=7, padx=(0, self.p), pady=self.p)
         
         # Remove button
         rem_btn = ctk.CTkButton(row_frame, text="Ã—", width=22, height=22,
-                                 fg_color="gray25", hover_color="gray35",
+                                 fg_color="gray30", hover_color="gray35",
                                  border_color=self.color, border_width=2,
                                  command=lambda: self._remove_weapon_row(row_id))
-        rem_btn.grid(row=0, column=8, padx=(2, 4), pady=4)
+        rem_btn.grid(row=0, column=8, padx=(0, self.p), pady=self.p)
         
         self.weapon_widgets[row_id] = (name_ent, asp_var, p_var, type_var, extra_const_ent, extra_adv_var, bonus_lbl, desc_data, row_frame)
         self.update_weapon_bonuses()
@@ -1561,7 +1619,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
     def create_shards_section(self):
         """Shard tracking for spellcasting sources with dual arcane resonance (Normal/Pact)"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
         self.create_section_header(frame, "Shards")
         
@@ -1596,32 +1654,32 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         }
         
         content_frame = ctk.CTkFrame(frame, fg_color="transparent")
-        content_frame.pack(fill="x", padx=self.p, pady=(0, 6))
+        content_frame.pack(fill="x", padx=self.p, pady=(0, self.p))
         content_frame.columnconfigure(0, weight=1)
 
         # â”€â”€ Caster Level Dropdown â”€â”€
         cl_frame = ctk.CTkFrame(content_frame, fg_color="transparent")
-        cl_frame.pack(fill="x", pady=2)
-        ctk.CTkLabel(cl_frame, text="Caster Level:", font=("Roboto", 11, "bold"), text_color="gray70").pack(side="left", padx=(0, 5))
+        cl_frame.pack(fill="x", pady=(self.p, 0))
+        ctk.CTkLabel(cl_frame, text="Caster Level:", font=("Roboto", 11, "bold"), text_color="gray70").pack(side="left", padx=(0, self.p))
         self.caster_level_var = StringVar(value="1")
         self.caster_level_dropdown = ctk.CTkOptionMenu(
             cl_frame, variable=self.caster_level_var,
             values=[str(i) for i in range(1, 21)],
             width=60, height=22, font=("Roboto", 11),
-            fg_color="gray17", button_color="gray25",
+            fg_color="gray25", button_color="gray30",
             button_hover_color=self.color, dropdown_hover_color=self.color,
             command=self._update_shards_calculations
         )
-        self.caster_level_dropdown.pack(side="left", padx=(0, 15))
+        self.caster_level_dropdown.pack(side="left", padx=(0, self.p))
 
         # Warlock Level Dropdown
-        ctk.CTkLabel(cl_frame, text="Warlock Level:", font=("Roboto", 11, "bold"), text_color="gray70").pack(side="left", padx=(0, 5))
+        ctk.CTkLabel(cl_frame, text="Warlock Level:", font=("Roboto", 11, "bold"), text_color="gray70").pack(side="left", padx=(0, self.p))
         self.warlock_level_var = StringVar(value="0")
         self.warlock_level_dropdown = ctk.CTkOptionMenu(
             cl_frame, variable=self.warlock_level_var,
             values=[str(i) for i in range(0, 21)],
             width=60, height=22, font=("Roboto", 11),
-            fg_color="gray17", button_color="gray25",
+            fg_color="gray25", button_color="gray30",
             button_hover_color=self.color, dropdown_hover_color=self.color,
             command=self._update_shards_calculations
         )
@@ -1629,22 +1687,22 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         # â”€â”€ Spellcasting Sources â”€â”€
         self.shards_container = ctk.CTkFrame(content_frame, fg_color="transparent", height=0)
-        self.shards_container.pack(fill="x", pady=2)
+        self.shards_container.pack(fill="x", pady=(self.p, 0))
         self.shards_container.columnconfigure(0, weight=1)
         
-        add_btn = ctk.CTkButton(content_frame, text="+ Add Spellcasting Source", font=("Roboto", 11),
-                                 fg_color="gray25", hover_color="gray35",
-                                 border_color=self.color, border_width=2,
+        add_btn = ctk.CTkButton(content_frame, text="Add Spellcasting Source", font=("Roboto", 11),
+                                 fg_color="gray25", hover_color="gray30",
+                                 border_width=2, border_color=self.color,
                                  command=self._add_shard_row)
-        add_btn.pack(pady=(self.p, 6))
+        add_btn.pack(pady=(self.p, 0))
         
         # â”€â”€ Normal Arcane Resonance Grid â”€â”€
-        res_header = ctk.CTkLabel(content_frame, text="Arcane Resonance (Normal)",
+        res_header = ctk.CTkLabel(content_frame, text="Arcane resonance (normal)",
                                    font=("Roboto", 12, "bold"), text_color="white")
-        res_header.pack(anchor="w", pady=(4, 2))
+        res_header.pack(anchor="w")
         
         self.normal_res_frame = ctk.CTkFrame(content_frame, fg_color="transparent")
-        self.normal_res_frame.pack(fill="x", pady=2)
+        self.normal_res_frame.pack(fill="x")
         self.resonance_saturation_entries = []
         self.resonance_count_entries = []
         self.normal_mult_labels = []
@@ -1657,43 +1715,43 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         pact_header = ctk.CTkLabel(self.pact_res_container, text="Arcane Resonance (Pact)",
                                    font=("Roboto", 12, "bold"), text_color="white") # Changed to white
-        pact_header.pack(anchor="w", pady=(8, 2))
+        pact_header.pack(anchor="w", pady=(self.p, 0))
         
         self.pact_res_frame = ctk.CTkFrame(self.pact_res_container, fg_color="transparent")
-        self.pact_res_frame.pack(fill="x", pady=2)
+        self.pact_res_frame.pack(fill="x")
         self.pact_saturation_entries = []
         self.pact_count_entries = []
         self.pact_mult_labels = []
         self._create_resonance_grid(self.pact_res_frame, self.pact_saturation_entries,
                                      self.pact_count_entries, self.pact_mult_labels, is_pact=True)
         
-        # â”€â”€ Rest & Recovery Buttons â”€â”€
+        # â”€â”€ rest & Recovery Buttons â”€â”€
         btn_frame = ctk.CTkFrame(content_frame, fg_color="transparent")
-        btn_frame.pack(fill="x", pady=(12, 4))
+        btn_frame.pack(fill="x")
         
-        ctk.CTkButton(btn_frame, text="Long Rest", font=("Roboto", 11, "bold"),
-                       fg_color="gray25", hover_color="gray35", 
+        ctk.CTkButton(btn_frame, text="Long rest", font=("Roboto", 11, "bold"),
+                       fg_color="gray25", hover_color="gray30", 
                        border_color=self.color, border_width=2,
                        width=90, height=28,
-                       command=self._long_rest).pack(side="left", padx=(0, 15))
+                       command=self._long_rest).pack(side="left", padx=(0, self.p))
         
-        ctk.CTkButton(btn_frame, text="Short Rest", font=("Roboto", 11, "bold"),
-                       fg_color="gray25", hover_color="gray35", 
+        ctk.CTkButton(btn_frame, text="Short rest", font=("Roboto", 11, "bold"),
+                       fg_color="gray25", hover_color="gray30", 
                        border_color=self.color, border_width=2,
                        width=90, height=28,
-                       command=self._short_rest).pack(side="left", padx=(0, 15))
+                       command=self._short_rest).pack(side="left", padx=(0, self.p))
         
         # Arcane Recovery
-        ctk.CTkButton(btn_frame, text="Arcane Recovery", font=("Roboto", 11, "bold"),
-                       fg_color="gray25", hover_color="gray35", 
+        ctk.CTkButton(btn_frame, text="Arcane recovery", font=("Roboto", 11, "bold"),
+                       fg_color="gray25", hover_color="gray30", 
                        border_color=self.color, border_width=2,
                        width=120, height=28,
-                       command=self._shard_arcane_recovery).pack(side="left", padx=(0, 8))
+                       command=self._shard_arcane_recovery).pack(side="left", padx=(0, self.p))
         
-        ctk.CTkLabel(btn_frame, text="Amt:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=(0, 4))
+        ctk.CTkLabel(btn_frame, text="Amt:", font=("Roboto", 10), text_color="gray60").pack(side="left", padx=(0, self.p))
         self.arcane_recovery_entry = ctk.CTkEntry(btn_frame, font=("Roboto", 11), width=35, height=22,
-                                                   justify="center", fg_color="gray17", border_width=0)
-        self.arcane_recovery_entry.pack(side="left", padx=(0, 10))
+                                                   justify="center", fg_color="gray25", border_width=0)
+        self.arcane_recovery_entry.pack(side="left", padx=(0, self.p))
         self.arcane_recovery_entry.insert(0, "0")
         
         def toggle_ar():
@@ -1711,7 +1769,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self.arcane_recovery_used_cb.pack(side="left")
 
     def _short_rest(self):
-        """Global Short Rest: Reset SR features"""
+        """Global Short rest: Reset SR features"""
         # Features
         for w in self.feature_widgets.values():
             # w = (name_ent, cur_ent, max_ent, reset_var, used_var, used_cb, desc_data, row_frame)
@@ -1724,7 +1782,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                         pass
                 w[4].set(False)
                 w[5].configure(state="normal")
-        # Call Shard Short Rest
+        # Call Shard Short rest
         self._shard_short_rest()
         
         # Trigger Hit Dice Spending Prompt
@@ -1750,19 +1808,19 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         popup.attributes("-topmost", True)
         popup.grab_set()
 
-        ctk.CTkLabel(popup, text="Spend Hit Dice", font=("Roboto", 14, "bold")).pack(pady=10)
+        ctk.CTkLabel(popup, text="Spend Hit Dice", font=("Roboto", 14, "bold")).pack(pady=self.p)
         
         try:
             vit_mod = int(self.combat_entries["Vit"].get() or 0)
         except ValueError:
             vit_mod = 0
             
-        ctk.CTkLabel(popup, text=f"Vitality Modifier: {vit_mod:+}", font=("Roboto", 12)).pack(pady=(0, 10))
+        ctk.CTkLabel(popup, text=f"Vitality Modifier: {vit_mod:+}", font=("Roboto", 12)).pack(pady=(0, self.p))
 
         spend_vars = {}
         for die, count in available.items():
             frame = ctk.CTkFrame(popup, fg_color="transparent")
-            frame.pack(fill="x", padx=20, pady=5)
+            frame.pack(fill="x", padx=self.p, pady=(self.p, 0))
             ctk.CTkLabel(frame, text=f"{die} (Avail: {count}) " , font=("Roboto", 12)).pack(side="left")
             spend_vars[die] = IntVar(value=0)
 
@@ -1779,9 +1837,11 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 return cmd
                 
             ctk.CTkButton(sub, text="-", width=20, height=24, fg_color="gray30", 
+                          border_width=2, border_color=self.color,
                           command=make_cmd(die, count, val_lbl, spend_vars[die], -1)).pack(side="left")
-            val_lbl.pack(side="left", padx=5)
+            val_lbl.pack(side="left", padx=self.p)
             ctk.CTkButton(sub, text="+", width=20, height=24, fg_color="gray30", 
+                          border_width=2, border_color=self.color,
                           command=make_cmd(die, count, val_lbl, spend_vars[die], 1)).pack(side="left")
 
         def roll_and_heal():
@@ -1810,17 +1870,17 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 self.combat_entries["PCN"].insert(0, str(curr_pcn + total_healed))
                 
                 log_str = " + ".join(log_texts)
-                messagebox.showinfo("Hit Dice Rolled", f"Rolled: {log_str}\n\nTotal PCN Restored: {total_healed}", parent=popup)
+                messagebox.showinfo("Hit Dice Rolled", f"Rolled: {log_str}\n\nTotal PCN restored: {total_healed}", parent=popup)
                 
             popup.destroy()
 
         ctk.CTkButton(popup, text="Roll & Heal", fg_color="gray25", border_width=2, 
                       border_color=self.color, hover_color="gray35",
-                      command=roll_and_heal).pack(pady=20)
+                      command=roll_and_heal).pack(pady=self.p)
 
 
     def _long_rest(self):
-        """Global Long Rest"""
+        """Global Long rest"""
         # Features
         for w in self.feature_widgets.values():
             if w[3].get() in ["SR", "LR"]:
@@ -1878,50 +1938,51 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 w[5].configure(state="normal")
 
     def create_rest_section(self):
-        """Time & Rest Buttons"""
+        """Time & rest Buttons"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
-        self.create_section_header(frame, "Time & Rest")
+        frame.pack(fill="x", pady=(0, self.p))
+        self.create_section_header(frame, "Time & rest")
         content = ctk.CTkFrame(frame, fg_color="transparent")
         content.pack(fill="x", padx=self.p, pady=(0, self.p))
         content.columnconfigure((0, 1, 2, 3), weight=1)
         
-        btns = [("Short Rest (SR)", self._short_rest), ("Long Rest (LR)", self._long_rest),
+        btns = [("Short rest (SR)", self._short_rest), ("Long rest (LR)", self._long_rest),
                 ("Dawn", self._dawn_reset), ("Dusk", self._dusk_reset)]
         for i, (txt, cmd) in enumerate(btns):
             c = "gray25"
             ctk.CTkButton(content, text=txt, font=("Roboto", 11, "bold"),
-                          fg_color=c, hover_color="gray35", border_color=self.color, border_width=2,
-                          command=cmd).grid(row=0, column=i, padx=4, pady=(4,0), sticky="ew")
+                          fg_color=c, hover_color="gray35", 
+                          border_width=2, border_color=self.color,
+                          width=90, height=28, command=cmd).grid(row=0, column=i, padx=(0, self.p), pady=(self.p, 0), sticky="ew")
 
         # Hit Dice Sub-section
         hd_frame = ctk.CTkFrame(frame, fg_color="gray25", corner_radius=6)
-        hd_frame.pack(fill="x", padx=self.p, pady=(4, self.p))
+        hd_frame.pack(fill="x", padx=self.p, pady=(0, self.p))
         
         lbl = ctk.CTkLabel(hd_frame, text="Hit Dice (Current / Max)", font=("Roboto", 11, "bold"))
-        lbl.pack(pady=(4,2))
+        lbl.pack()
         
         hd_boxes = ctk.CTkFrame(hd_frame, fg_color="transparent")
-        hd_boxes.pack(fill="x", pady=(0,4))
+        hd_boxes.pack(fill="x", pady=(0, self.p))
         hd_boxes.columnconfigure((0,1,2,3), weight=1)
         
         for i, die in enumerate(["d6", "d8", "d10", "d12"]):
             sub = ctk.CTkFrame(hd_boxes, fg_color="transparent")
-            sub.grid(row=0, column=i, padx=4)
+            sub.grid(row=0, column=i, padx=self.p)
             ctk.CTkLabel(sub, text=f"{die}: ", font=("Roboto", 11, "bold")).pack(side="left")
             
-            cur_entry = ctk.CTkEntry(sub, textvariable=self.hit_dice_vars[die][0], width=30, height=22, font=("Roboto", 11), justify="center", fg_color="gray17", border_width=0)
-            cur_entry.pack(side="left", padx=2)
+            cur_entry = ctk.CTkEntry(sub, textvariable=self.hit_dice_vars[die][0], width=30, height=22, font=("Roboto", 11), justify="center", fg_color="gray30", border_width=0)
+            cur_entry.pack(side="left", padx=self.p)
             
             ctk.CTkLabel(sub, text="/", font=("Roboto", 10)).pack(side="left")
             
-            max_entry = ctk.CTkEntry(sub, textvariable=self.hit_dice_vars[die][1], width=30, height=22, font=("Roboto", 11), justify="center", fg_color="gray17", border_width=0)
-            max_entry.pack(side="left", padx=2)
+            max_entry = ctk.CTkEntry(sub, textvariable=self.hit_dice_vars[die][1], width=30, height=22, font=("Roboto", 11), justify="center", fg_color="gray30", border_width=0)
+            max_entry.pack(side="left", padx=self.p)
 
     def create_features_section(self):
         """Features & Limited Uses with Description and Auto-Reset"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
         self.create_section_header(frame, "Features & Limited Uses")
         
@@ -1930,32 +1991,32 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         # Don't pack immediately
         self.features_header_frame.columnconfigure(0, weight=1) # Name
         
-        ctk.CTkLabel(self.features_header_frame, text="Feature Name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=4, sticky="ew")
-        ctk.CTkLabel(self.features_header_frame, text="Uses", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=1, padx=2)
-        ctk.CTkLabel(self.features_header_frame, text="/", font=("Roboto", 11, "bold"), width=10).grid(row=0, column=2, padx=0)
-        ctk.CTkLabel(self.features_header_frame, text="Max", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=3, padx=2)
-        ctk.CTkLabel(self.features_header_frame, text="Reset", font=("Roboto", 11, "bold"), width=60).grid(row=0, column=4, padx=2)
-        ctk.CTkLabel(self.features_header_frame, text="Use", font=("Roboto", 11, "bold"), width=28).grid(row=0, column=5, padx=2) # Used Checkbox
-        ctk.CTkLabel(self.features_header_frame, text="Rst", font=("Roboto", 11, "bold"), width=28).grid(row=0, column=6, padx=2) # Header for manual reset
-        ctk.CTkLabel(self.features_header_frame, text="Desc", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=7, padx=2)
-        ctk.CTkLabel(self.features_header_frame, text="", width=28).grid(row=0, column=8, padx=(2,4))
+        ctk.CTkLabel(self.features_header_frame, text="Feature name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=(self.p, 0), sticky="ew")
+        ctk.CTkLabel(self.features_header_frame, text="Uses", font=("Roboto", 11, "bold"), width=80).grid(row=0, column=1, padx=(self.p, 0))
+        ctk.CTkLabel(self.features_header_frame, text="/", font=("Roboto", 11, "bold"), width=10).grid(row=0, column=2)
+        ctk.CTkLabel(self.features_header_frame, text="Max", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=3, padx=(0, self.p))
+        ctk.CTkLabel(self.features_header_frame, text="Reset", font=("Roboto", 11, "bold"), width=60).grid(row=0, column=4, padx=(0, self.p))
+        ctk.CTkLabel(self.features_header_frame, text="Use", font=("Roboto", 11, "bold"), width=28).grid(row=0, column=5, padx=(0, self.p))
+        ctk.CTkLabel(self.features_header_frame, text="Rst", font=("Roboto", 11, "bold"), width=28).grid(row=0, column=6, padx=(0, self.p))
+        ctk.CTkLabel(self.features_header_frame, text="Desc", font=("Roboto", 11, "bold"), width=30).grid(row=0, column=7, padx=(0, self.p))
+        ctk.CTkLabel(self.features_header_frame, text="", width=28).grid(row=0, column=8, padx=(0, self.p))
         
         # Features Container
         self.features_container = ctk.CTkFrame(frame, fg_color="transparent", height=0)
-        self.features_container.pack(fill="x", padx=self.p, pady=(0, 2))
+        self.features_container.pack(fill="x", padx=self.p, pady=(0, self.p))
         self.features_container.columnconfigure(0, weight=1)
         
-        add_btn = ctk.CTkButton(frame, text="+ Add Feature", font=("Roboto", 11),
+        add_btn = ctk.CTkButton(frame, text="Add Feature", font=("Roboto", 11),
                                  fg_color="gray25", hover_color="gray35",
                                  border_color=self.color, border_width=2,
                                  command=self._add_feature_row)
-        add_btn.pack(pady=(2, 6))
+        add_btn.pack(pady=(0, self.p))
 
     def _add_feature_row(self, name="", current="", max_uses="", reset="LR", description="", used=False):
         """Add a feature row with Used checkbox and locking"""
         if not self.feature_widgets:
             # Show header if this is the first item
-            self.features_header_frame.pack(fill="x", padx=self.p, pady=(0, 2), before=self.features_container)
+            self.features_header_frame.pack(fill="x", padx=self.p, before=self.features_container)
 
         if self.feature_widgets:
             row_id = str(max([int(k) for k in self.feature_widgets.keys()]) + 1)
@@ -1963,38 +2024,38 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             row_id = "0"
             
         row_frame = ctk.CTkFrame(self.features_container, fg_color="gray25", corner_radius=6)
-        row_frame.pack(fill="x", pady=2)
+        row_frame.pack(fill="x", pady=(self.p, 0))
         row_frame.columnconfigure(0, weight=1)
         
         # Name
         name_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), height=22, placeholder_text="Name",
-                                fg_color="gray17", border_width=1, border_color=self.color)
+                                fg_color="gray30", border_width=1, border_color=self.color)
         name_ent.insert(0, name)
-        name_ent.grid(row=0, column=0, padx=4, pady=4, sticky="ew")
+        name_ent.grid(row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="ew")
         name_ent.bind("<FocusOut>", self.autosave_roll_configs)
         
         # Uses (Current)
         cur_var = StringVar(value=str(current) if current else "0")
-        cur_ent = IntSpinbox(row_frame, width=80, height=22, variable=cur_var,
+        cur_ent = IntSpinbox(row_frame, variable=cur_var,
                              color=self.color, from_=0, to_=999)
-        cur_ent.grid(row=0, column=1, padx=2, pady=4)
+        cur_ent.grid(row=0, column=1, padx=(self.p, 0), pady=self.p)
         
-        ctk.CTkLabel(row_frame, text="/", font=("Roboto", 11), width=10).grid(row=0, column=2, padx=0)
+        ctk.CTkLabel(row_frame, text="/", font=("Roboto", 11), width=10).grid(row=0, column=2)
         
         # Max Uses
         max_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=30, height=22, justify="center",
-                               fg_color="gray17", border_width=0)
+                               fg_color="gray30", border_width=0)
         max_ent.insert(0, max_uses)
-        max_ent.grid(row=0, column=3, padx=2, pady=4)
+        max_ent.grid(row=0, column=3, padx=(0, self.p), pady=self.p)
         max_ent.bind("<FocusOut>", self.autosave_roll_configs)
         
         # Reset Type
         reset_var = StringVar(value=reset)
         reset_menu = ctk.CTkOptionMenu(row_frame, values=["-", "SR", "LR", "Dawn", "Dusk"], variable=reset_var,
                                        width=60, height=22, font=("Roboto", 10),
-                                       fg_color="gray17", button_color="gray25",
+                                       fg_color="gray30", button_color="gray35",
                                        button_hover_color=self.color, dropdown_hover_color=self.color)
-        reset_menu.grid(row=0, column=4, padx=2, pady=4)
+        reset_menu.grid(row=0, column=4, padx=(0, self.p), pady=self.p)
 
         def _enforce_limits(*args):
             try:
@@ -2031,7 +2092,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         used_cb = ctk.CTkCheckBox(row_frame, text="", variable=used_var, command=toggle_used,
                                    width=28, height=22, checkbox_width=18, checkbox_height=18,
                                    fg_color=self.color, border_color=self.color, hover_color=self.color)
-        used_cb.grid(row=0, column=5, padx=2, pady=4)
+        used_cb.grid(row=0, column=5, padx=(0, self.p), pady=self.p)
         if used and reset != "-":
             used_cb.configure(state="disabled")
 
@@ -2048,27 +2109,27 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 used_cb.configure(state="normal")
 
         reset_btn = ctk.CTkButton(row_frame, text="â†º", width=28, height=22,
-                                   fg_color="gray25", hover_color="gray35",
+                                   fg_color="gray30", hover_color="gray35",
                                    border_color=self.color, border_width=2,
                                    command=_manual_reset)
-        reset_btn.grid(row=0, column=6, padx=2, pady=4)
+        reset_btn.grid(row=0, column=6, padx=(0, self.p), pady=self.p)
         
         self.after(50, _enforce_limits)
         
         # Description Button
         desc_data = [description] 
         desc_btn = ctk.CTkButton(row_frame, text="ðŸ“", width=30, height=22,
-                                  fg_color="gray25", hover_color="gray35",
+                                  fg_color="gray30", hover_color="gray35",
                                   border_color=self.color, border_width=2,
                                   command=lambda: self._open_feature_description(name_ent, desc_data))
-        desc_btn.grid(row=0, column=7, padx=2, pady=4)
+        desc_btn.grid(row=0, column=7, padx=(0, self.p), pady=self.p)
         
         # Remove
         rem_btn = ctk.CTkButton(row_frame, text="Ã—", width=22, height=22,
-                                 fg_color="gray25", hover_color="gray35",
+                                 fg_color="gray30", hover_color="gray35",
                                  border_color=self.color, border_width=2,
                                  command=lambda: self._remove_feature_row(row_id))
-        rem_btn.grid(row=0, column=8, padx=(2, 4), pady=4)
+        rem_btn.grid(row=0, column=8, padx=(0, self.p), pady=self.p)
         
         self.feature_widgets[row_id] = (name_ent, cur_ent, max_ent, reset_var, used_var, used_cb, desc_data, row_frame)
 
@@ -2089,7 +2150,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         top.attributes("-topmost", True)
         
         txt = ctk.CTkTextbox(top, font=("Roboto", 12))
-        txt.pack(fill="both", expand=True, padx=10, pady=(10, 5))
+        txt.pack(fill="both", expand=True, padx=self.p, pady=(10, 5))
         txt.insert("0.0", desc_data[0])
         
         def save_desc():
@@ -2098,37 +2159,39 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             top.destroy()
             
         btn = ctk.CTkButton(top, text="Save Description", font=("Roboto", 12, "bold"),
-                            fg_color=self.color, hover_color=self.color, command=save_desc)
-        btn.pack(pady=(5, 10))
+                            fg_color=self.color, hover_color="gray30",
+                            border_width=2, border_color=self.color,
+                            command=save_desc)
+        btn.pack(pady=self.p)
         
     # ---------------- SPELLS SECTION ----------------
     def create_spells_section(self):
         """Spell List with Levels, Prep, and Details"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
         # Header
         self.create_section_header(frame, "Spells")
         
         # Column Headers Grid
         hdr = ctk.CTkFrame(frame, fg_color="transparent", height=20)
-        hdr.pack(fill="x", padx=self.p, pady=(0, 2))
+        hdr.pack(fill="x", padx=self.p)
         # Cols: K(20), P(20), A(20), M(20), Name(exp), Src(30), Gear(24), X(24)
         hdr.columnconfigure(4, weight=1)
         
         labels = [("K", 0), ("P", 1), ("A", 2), ("R", 3)]
         for txt, col in labels:
-            ctk.CTkLabel(hdr, text=txt, font=("Roboto", 10, "bold"), width=20, text_color="gray60").grid(row=0, column=col, padx=1)
+            ctk.CTkLabel(hdr, text=txt, font=("Roboto", 10, "bold"), width=20, text_color="gray60").grid(row=0, column=col, pady=(self.p, 0), padx=(self.p, 0))
         
-        ctk.CTkLabel(hdr, text="Name", font=("Roboto", 10, "bold"), anchor="w").grid(row=0, column=4, padx=4, sticky="ew")
+        ctk.CTkLabel(hdr, text="Name", font=("Roboto", 10, "bold"), anchor="w").grid(row=0, column=4, pady=(self.p, 0), padx=(self.p, 0), sticky="ew")
         
         # Container for Spell Levels (height=0 to collapse when empty)
         self.spells_container = ctk.CTkFrame(frame, fg_color="transparent", height=0)
-        self.spells_container.pack(fill="x", padx=self.p, pady=(0, 2))
+        self.spells_container.pack(fill="x", padx=self.p)
         
         # Footer (Add Button + Quick Prep)
         footer = ctk.CTkFrame(frame, fg_color="transparent")
-        footer.pack(fill="x", padx=self.p, pady=(2, 6))
+        footer.pack(fill="x", padx=self.p)
         
         # Grid layout for Footer: Button centered, QP right
         # Use uniform="b" on col 0 and 2 to force them to equal width, satisfying "Button centered"
@@ -2136,15 +2199,16 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         footer.columnconfigure(1, weight=0) # Button (natural width)
         footer.columnconfigure(2, weight=1, uniform="b") # QP (same width as col 0, content sticky e)
         
-        add_btn = ctk.CTkButton(footer, text="+ Add Spell", font=("Roboto", 11),
-                                 fg_color="gray25", hover_color="gray35",
+        add_btn = ctk.CTkButton(footer, text="Add Spell", font=("Roboto", 11),
+                                 fg_color="gray25", hover_color="gray30",
                                  border_color=self.color, border_width=2,
                                  command=lambda: self._add_spell_row()) 
-        add_btn.grid(row=0, column=1)
+        add_btn.grid(row=0, column=1, pady=self.p)
         
         def toggle_qp():
             if self.quick_prep_used.get():
                 self.qp_chk.configure(state="disabled")
+            self.autosave_roll_configs()
 
         self.qp_chk = ctk.CTkCheckBox(footer, text="Quick Prep (1/LR)", variable=self.quick_prep_used,
                                        font=("Roboto", 10), fg_color=self.color,
@@ -2152,7 +2216,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                                        border_color=self.color, command=toggle_qp)
         if self.quick_prep_used.get():
             self.qp_chk.configure(state="disabled")
-        self.qp_chk.grid(row=0, column=2, sticky="e", padx=(10, 0))
+        self.qp_chk.grid(row=0, column=2, sticky="e", padx=(self.p, 0), pady=self.p)
         
         # Initial Render
         self._update_spell_list()
@@ -2194,16 +2258,16 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             # Level Header
             lbl_text = "Cantrips (0)" if lvl == 0 else f"Level {lvl}"
             ctk.CTkLabel(self.spells_container, text=lbl_text, font=("Roboto", 12, "bold"), 
-                         text_color="gray70", anchor="w").pack(fill="x", pady=(4, 2))
+                         text_color="gray70", anchor="w").pack(fill="x")
             
             # Spells
             for spell in spells:
-                self._render_spell_row(spell)
+                self._render_spell_row(spell, first_row=spell == spells[0])
 
     def create_pets_section(self):
         """Companion tracking (JoÃ£o-com-braÃ§o, etc.)"""
         frame = self.create_bordered_frame(self.main_frame)
-        frame.pack(fill="x", pady=(0, 6))
+        frame.pack(fill="x", pady=(0, self.p))
         
         self.create_section_header(frame, "Pets & Companions")
         
@@ -2213,81 +2277,81 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self.pets_header_frame.columnconfigure(0, weight=1)
         
         # Match the widths and padding from _add_pet_row
-        ctk.CTkLabel(self.pets_header_frame, text="Pet Name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=4, sticky="ew")
-        ctk.CTkLabel(self.pets_header_frame, text="Type", font=("Roboto", 11, "bold"), width=60, anchor="w").grid(row=0, column=1, padx=2)
-        ctk.CTkLabel(self.pets_header_frame, text="PCN", font=("Roboto", 11, "bold"), width=40, anchor="center").grid(row=0, column=2, padx=2)
+        ctk.CTkLabel(self.pets_header_frame, text="Pet name", font=("Roboto", 11, "bold"), anchor="w").grid(row=0, column=0, padx=(self.p, 0), sticky="ew")
+        ctk.CTkLabel(self.pets_header_frame, text="Type", font=("Roboto", 11, "bold"), width=60, anchor="w").grid(row=0, column=1, padx=self.p)
+        ctk.CTkLabel(self.pets_header_frame, text="PCN", font=("Roboto", 11, "bold"), width=40, anchor="center").grid(row=0, column=2, padx=(0, self.p))
         ctk.CTkLabel(self.pets_header_frame, text="/", font=("Roboto", 11, "bold"), width=10, anchor="center").grid(row=0, column=3)
-        ctk.CTkLabel(self.pets_header_frame, text="Max", font=("Roboto", 11, "bold"), width=40, anchor="center").grid(row=0, column=4, padx=2)
-        ctk.CTkLabel(self.pets_header_frame, text="AA", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=5, padx=2)
-        ctk.CTkLabel(self.pets_header_frame, text="Spd", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=6, padx=2)
-        ctk.CTkLabel(self.pets_header_frame, text="Desc", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=7, padx=2)
-        ctk.CTkLabel(self.pets_header_frame, text="", width=28).grid(row=0, column=8, padx=(2,4))
+        ctk.CTkLabel(self.pets_header_frame, text="Max", font=("Roboto", 11, "bold"), width=40, anchor="center").grid(row=0, column=4, padx=(0, self.p))
+        ctk.CTkLabel(self.pets_header_frame, text="AA", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=5, padx=(0, self.p))
+        ctk.CTkLabel(self.pets_header_frame, text="Spd", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=6, padx=(0, self.p))
+        ctk.CTkLabel(self.pets_header_frame, text="Desc", font=("Roboto", 11, "bold"), width=30, anchor="center").grid(row=0, column=7, padx=(0, self.p))
+        ctk.CTkLabel(self.pets_header_frame, text="", width=28).grid(row=0, column=8, padx=(0, self.p))
         
         # Pets Container
         self.pets_container = ctk.CTkFrame(frame, fg_color="transparent", height=0)
-        self.pets_container.pack(fill="x", padx=self.p, pady=(0, 2))
+        self.pets_container.pack(fill="x", padx=self.p, pady=(0, self.p))
         self.pets_container.columnconfigure(0, weight=1)
         
         # Buttons Container (Add / Import side-by-side)
         btn_frame = ctk.CTkFrame(frame, fg_color="transparent")
-        btn_frame.pack(pady=(2, 6))
+        btn_frame.pack(pady=(0, self.p))
         
-        add_btn = ctk.CTkButton(btn_frame, text="+ Add Companion", font=("Roboto", 11),
-                                 fg_color="gray25", hover_color="gray35",
+        add_btn = ctk.CTkButton(btn_frame, text="Add companion", font=("Roboto", 11),
+                                 fg_color="gray25", hover_color="gray30",
                                  border_color=self.color, border_width=2,
                                  command=self._add_pet_row)
-        add_btn.pack(side="left", padx=4)
+        add_btn.pack(side="left", padx=(0, self.p))
         
-        import_btn = ctk.CTkButton(btn_frame, text="ðŸ“¥ Import Monster", font=("Roboto", 11),
-                                    fg_color="gray25", hover_color="gray35",
+        import_btn = ctk.CTkButton(btn_frame, text="Import monster", font=("Roboto", 11),
+                                    fg_color="gray25", hover_color="gray30",
                                     border_color=self.color, border_width=2,
                                     command=self._import_monster_stat_block_popup)
-        import_btn.pack(side="left", padx=4)
+        import_btn.pack(side="left", padx=(0, self.p))
 
     def _add_pet_row(self, name="", type_="", cur_pcn="", max_pcn="", aa="", spd="", desc=""):
         if not self.pet_widgets:
             # Show header if this is the first item
-            self.pets_header_frame.pack(fill="x", padx=self.p, pady=(0, 2), before=self.pets_container)
+            self.pets_header_frame.pack(fill="x", padx=self.p, before=self.pets_container)
             
         row_id = str(uuid.uuid4())
         row_frame = ctk.CTkFrame(self.pets_container, fg_color="gray25", corner_radius=6)
-        row_frame.pack(fill="x", pady=2)
+        row_frame.pack(fill="x", pady=(self.p, 0))
         row_frame.columnconfigure(0, weight=1)
         
-        name_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), height=22, fg_color="gray17", border_width=1, border_color=self.color)
-        name_ent.insert(0, name); name_ent.grid(row=0, column=0, padx=4, pady=4, sticky="ew")
+        name_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), height=22, fg_color="gray30", border_width=1, border_color=self.color)
+        name_ent.insert(0, name); name_ent.grid(row=0, column=0, padx=(self.p, 0), pady=self.p, sticky="ew")
         
-        type_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=60, height=22, fg_color="gray17", border_width=0)
-        type_ent.insert(0, type_); type_ent.grid(row=0, column=1, padx=2, pady=4)
+        type_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=60, height=22, fg_color="gray30", border_width=0)
+        type_ent.insert(0, type_); type_ent.grid(row=0, column=1, padx=self.p, pady=self.p)
         
-        pcn_cur = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=40, height=22, justify="center", fg_color="gray17", border_width=0)
-        pcn_cur.insert(0, cur_pcn); pcn_cur.grid(row=0, column=2, padx=2, pady=4)
+        pcn_cur = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=40, height=22, justify="center", fg_color="gray30", border_width=0)
+        pcn_cur.insert(0, cur_pcn); pcn_cur.grid(row=0, column=2, padx=(0, self.p), pady=self.p)
         
         ctk.CTkLabel(row_frame, text="/", width=10).grid(row=0, column=3)
         
-        pcn_max = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=40, height=22, justify="center", fg_color="gray17", border_width=0)
-        pcn_max.insert(0, max_pcn); pcn_max.grid(row=0, column=4, padx=2, pady=4)
+        pcn_max = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=40, height=22, justify="center", fg_color="gray30", border_width=0)
+        pcn_max.insert(0, max_pcn); pcn_max.grid(row=0, column=4, padx=(0, self.p), pady=self.p)
         
-        aa_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=30, height=22, justify="center", fg_color="gray17", border_width=0)
-        aa_ent.insert(0, aa); aa_ent.grid(row=0, column=5, padx=2, pady=4)
+        aa_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=30, height=22, justify="center", fg_color="gray30", border_width=0)
+        aa_ent.insert(0, aa); aa_ent.grid(row=0, column=5, padx=(0, self.p), pady=self.p)
         
-        spd_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=30, height=22, justify="center", fg_color="gray17", border_width=0)
-        spd_ent.insert(0, spd); spd_ent.grid(row=0, column=6, padx=2, pady=4)
+        spd_ent = ctk.CTkEntry(row_frame, font=("Roboto", 11), width=30, height=22, justify="center", fg_color="gray30", border_width=0)
+        spd_ent.insert(0, spd); spd_ent.grid(row=0, column=6, padx=(0, self.p), pady=self.p)
         
         # Bind all entries for autosave
         for e in [name_ent, type_ent, pcn_cur, pcn_max, aa_ent, spd_ent]:
             e.bind("<FocusOut>", self.autosave_roll_configs)
         
         desc_data = [desc]
-        desc_btn = ctk.CTkButton(row_frame, text="ðŸ“", width=30, height=22, fg_color="gray25", hover_color="gray35",
+        desc_btn = ctk.CTkButton(row_frame, text="ðŸ“", width=30, height=22, fg_color="gray30", hover_color="gray35",
                                   border_color=self.color, border_width=2,
                                   command=lambda: self._open_feature_description(name_ent, desc_data))
-        desc_btn.grid(row=0, column=7, padx=2, pady=4)
+        desc_btn.grid(row=0, column=7, padx=(0, self.p), pady=self.p)
         
-        rem_btn = ctk.CTkButton(row_frame, text="Ã—", width=22, height=22, fg_color="gray25", hover_color="gray35",
+        rem_btn = ctk.CTkButton(row_frame, text="Ã—", width=22, height=22, fg_color="gray30", hover_color="gray35",
                                  border_color=self.color, border_width=2,
                                  command=lambda: self._remove_pet_row(row_id))
-        rem_btn.grid(row=0, column=8, padx=(2, 4), pady=4)
+        rem_btn.grid(row=0, column=8, padx=(0, self.p), pady=self.p)
         
         self.pet_widgets[row_id] = (name_ent, type_ent, pcn_cur, pcn_max, aa_ent, spd_ent, desc_data, row_frame)
         self.autosave_roll_configs()
@@ -2300,10 +2364,10 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         top.attributes("-topmost", True)
         
         ctk.CTkLabel(top, text="Paste D&D 5e Stat Block (e.g. from Wikidot/Roll20/PDF):",
-                     font=("Roboto", 12, "bold")).pack(pady=10)
+                     font=("Roboto", 12, "bold")).pack(pady=self.p)
         
         txt = ctk.CTkTextbox(top, font=("Roboto", 11))
-        txt.pack(fill="both", expand=True, padx=20, pady=10)
+        txt.pack(fill="both", expand=True, padx=self.p, pady=10)
         
         def do_import():
             content = txt.get("0.0", "end")
@@ -2312,7 +2376,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 top.destroy()
         
         ctk.CTkButton(top, text="Import", command=do_import,
-                      fg_color=self.color, hover_color=self.color).pack(pady=20)
+                      fg_color=self.color, hover_color=self.color).pack(pady=self.p)
 
     def _process_monster_import(self, text):
         """Parse text for Name, AC, HP, Speed and add row"""
@@ -2397,11 +2461,12 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         
         # Refresh is inefficient for single add, but easiest for sorting/grouping
         self._update_spell_list()
+        self.autosave_roll_configs()
 
-    def _render_spell_row(self, spell):
+    def _render_spell_row(self, spell, first_row=False):
         """Renders a single spell row with 4 columns (K, P, A, F)"""
         row = ctk.CTkFrame(self.spells_container, fg_color="gray25", corner_radius=6)
-        row.pack(fill="x", pady=2)
+        row.pack(fill="x", pady=(self.p if not first_row else 0, 0))
         
         # Grid layout: K(0) P(1) A(2) M(3) Name(4) Src(5) Gear(6) Del(7)
         row.columnconfigure(4, weight=1) # Name entry expands
@@ -2409,18 +2474,19 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         def create_cb(col, key, default=False, visible=True):
             if not visible:
                 # Placeholder
-                ctk.CTkLabel(row, text="", width=20).grid(row=0, column=col, padx=1)
+                ctk.CTkLabel(row, text="", width=20).grid(row=0, column=col, pady=(0, self.p))
                 return
             
             var = BooleanVar(value=spell.get(key, default))
             def toggle(s=spell, k=key, v=var):
                 s[k] = v.get()
                 self._update_spell_list() # Immediate re-sort and UI update
+                self.autosave_roll_configs()
             
             cb = ctk.CTkCheckBox(row, text="", variable=var, command=toggle,
                                  checkbox_width=16, checkbox_height=16, width=20,
                                  fg_color=self.color, hover_color=self.color, border_color=self.color)
-            cb.grid(row=0, column=col, padx=2, pady=2)
+            cb.grid(row=0, column=col, padx=(self.p, 0))
             return var
             
         lvl = int(spell.get("level", 0))
@@ -2439,28 +2505,34 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         create_cb(3, "ritual", False, is_leveled)
         
         # Name Entry
-        name_ent = ctk.CTkEntry(row, font=("Roboto", 12), height=24, border_width=1, fg_color="gray17", border_color="gray30")
+        name_ent = ctk.CTkEntry(row, font=("Roboto", 12), height=24, border_width=1, fg_color="gray30", border_color="gray35")
         name_ent.insert(0, spell.get("name", ""))
-        name_ent.grid(row=0, column=4, sticky="ew", padx=2)
+        name_ent.grid(row=0, column=4, sticky="ew", padx=self.p)
         def _update_name(e=None):
             spell["name"] = name_ent.get()
+            self.autosave_roll_configs()
             self.focus() # Unfocus
-        name_ent.bind("<FocusOut>", lambda e: spell.update({"name": name_ent.get()}))
+            
+        def _focus_out_name(e):
+            spell.update({"name": name_ent.get()})
+            self.autosave_roll_configs()
+            
+        name_ent.bind("<FocusOut>", _focus_out_name)
         name_ent.bind("<Return>", _update_name)
         
         # Source Label (Mini)
         src_lbl = ctk.CTkLabel(row, text=spell.get("source", "")[:3], font=("Roboto", 10), text_color="gray60", width=30)
-        src_lbl.grid(row=0, column=5, padx=2)
+        src_lbl.grid(row=0, column=5)
         
         # Details Button
-        edit_btn = ctk.CTkButton(row, text="âš™", width=24, height=24, fg_color="gray35", hover_color="gray45",
+        edit_btn = ctk.CTkButton(row, text="âš™", width=24, height=24, fg_color="gray30", hover_color="gray35",
                                   font=("Arial", 12), command=lambda s=spell: self._open_spell_details(s))
-        edit_btn.grid(row=0, column=6, padx=2)
+        edit_btn.grid(row=0, column=6, padx=self.p)
         
         # Delete Button
-        del_btn = ctk.CTkButton(row, text="Ã—", width=24, height=24, fg_color="transparent", hover_color="#c0392b",
+        del_btn = ctk.CTkButton(row, text="Ã—", width=24, height=24, fg_color="gray30", hover_color="gray35",
                                  text_color="gray60", command=lambda s=spell: self._delete_spell(s))
-        del_btn.grid(row=0, column=7, padx=(2, 4))
+        del_btn.grid(row=0, column=7, padx=(0, self.p))
         
         spell_id = spell.get("id", str(uuid.uuid4()))
         if "id" not in spell: spell["id"] = spell_id
@@ -2470,6 +2542,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         if spell in self.spells:
             self.spells.remove(spell)
             self._update_spell_list()
+            self.autosave_roll_configs()
 
     def _open_spell_details(self, spell):
         """Popup to edit full spell details"""
@@ -2517,6 +2590,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             spell["desc"] = desc_txt.get("0.0", "end").strip()
             top.destroy()
             self._update_spell_list()
+            self.autosave_roll_configs()
             
         ctk.CTkButton(top, text="Save & Close", command=save, fg_color=self.color).pack(pady=10)
 
@@ -2617,7 +2691,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                      text_color="gray50", width=55).grid(row=1, column=0, padx=2, pady=1)
         for i in range(9):
             ent = ctk.CTkEntry(res_grid, font=("Roboto", 10), width=30, height=20, justify="center",
-                               fg_color="gray17", border_width=0)
+                               fg_color="gray25", border_width=0)
             ent.grid(row=1, column=i+1, padx=1, pady=1)
             ent.insert(0, "â€“")
             ent.bind("<KeyRelease>", lambda e, idx=i, cl=count_list, sl=sat_list, ml=mult_list: self._update_res_h(idx, cl, sl, ml))
@@ -2628,7 +2702,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                      text_color="gray50", width=55).grid(row=2, column=0, padx=2, pady=1)
         for i in range(9):
             ent = ctk.CTkEntry(res_grid, font=("Roboto", 10), width=30, height=20, justify="center",
-                               fg_color="gray17", border_width=0)
+                               fg_color="gray25", border_width=0)
             ent.grid(row=2, column=i+1, padx=1, pady=(1, 2))
             ent.insert(0, "0")
             # Bind using separated method to avoid closure issues
@@ -2652,12 +2726,12 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         row_frame.pack(fill="x", pady=3)
         
         # --- Top Row: Source, Type, Shard Type, Delete ---
-        top = ctk.CTkFrame(row_frame, fg_color="transparent")
+        top = ctk.CTkFrame(row_frame, fg_color="gray25")
         top.pack(fill="x", padx=5, pady=(5, 2))
         
         # Source Name (Expand)
         ctk.CTkLabel(top, text="Source:", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, 5))
-        source_ent = ctk.CTkEntry(top, font=("Roboto", 11), height=24, fg_color="gray17", border_width=0)
+        source_ent = ctk.CTkEntry(top, font=("Roboto", 11), height=24, fg_color="gray30", border_width=0)
         source_ent.pack(side="left", fill="x", expand=True, padx=(0, 10))
         source_ent.insert(0, source)
         
@@ -2665,62 +2739,62 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         type_var = StringVar(value=source_type)
         ctk.CTkOptionMenu(top, variable=type_var, values=["Class", "Feat", "Item", "Racial", "Other"],
                           font=("Roboto", 11), width=75, height=24,
-                          fg_color="gray17", button_color="gray25",
+                          fg_color="gray30", button_color="gray35",
                           button_hover_color=self.color, dropdown_hover_color=self.color).pack(side="left", padx=(0, 5))
                           
         # Shard Type
         shard_type_var = StringVar(value=shard_type)
         menu = ctk.CTkOptionMenu(top, variable=shard_type_var, values=["Normal", "Pact"],
                                   font=("Roboto", 11), width=75, height=24,
-                                  fg_color="gray17", button_color="gray25",
+                                  fg_color="gray30", button_color="gray35",
                                   button_hover_color=self.color, dropdown_hover_color=self.color,
                                   command=lambda _: self._update_pact_visibility())
         menu.pack(side="left", padx=(0, 5))
         
         # Delete Button
         ctk.CTkButton(top, text="Ã—", width=24, height=24,
-                      fg_color="gray25", hover_color="#c44e4e",
+                      fg_color="gray30", hover_color="gray35",
                       border_color=self.color, border_width=0,
                       command=lambda: self._remove_shard_row(row_id)).pack(side="left")
 
-        # --- Bottom Row: Current, Total, MaxOut, Arc.Rest, Rest Type ---
+        # --- Bottom Row: Current, Total, MaxOut, Arc.Rest, rest Type ---
         bot = ctk.CTkFrame(row_frame, fg_color="transparent")
         bot.pack(fill="x", padx=5, pady=(0, 5))
         
         # Current / Total
         ctk.CTkLabel(bot, text="Curr:", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, 5))
         current_ent = ctk.CTkEntry(bot, font=("Roboto", 11, "bold"), width=40, height=24, justify="center",
-                                    fg_color="gray17", border_width=1, border_color=self.color)
+                                    fg_color="gray30", border_width=1, border_color=self.color)
         current_ent.pack(side="left")
         current_ent.insert(0, current if current else total)
         
         ctk.CTkLabel(bot, text="/", font=("Roboto", 11), text_color="gray50").pack(side="left", padx=2)
         
         total_ent = ctk.CTkEntry(bot, font=("Roboto", 11), width=40, height=24, justify="center",
-                                  fg_color="gray17", border_width=0)
+                                  fg_color="gray30", border_width=0)
         total_ent.pack(side="left", padx=(0, 15))
         total_ent.insert(0, total)
         
         # Max Output
         ctk.CTkLabel(bot, text="MaxOut:", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, 5))
         max_out_ent = ctk.CTkEntry(bot, font=("Roboto", 11), width=35, height=24, justify="center",
-                                    fg_color="gray17", border_width=0)
+                                    fg_color="gray30", border_width=0)
         max_out_ent.pack(side="left", padx=(0, 15))
         max_out_ent.insert(0, max_output)
         
-        # Arcane Rest
+        # Arcane rest
         arcane_var = BooleanVar(value=arcane_rest)
-        ctk.CTkCheckBox(bot, text="Arc. Rest", variable=arcane_var,
+        ctk.CTkCheckBox(bot, text="Arc. rest", variable=arcane_var,
                          font=("Roboto", 11), checkbox_width=18, checkbox_height=18,
                          hover_color=self.color, fg_color=self.color,
                          border_color=self.color).pack(side="left", padx=(0, 15))
         
-        # Rest Type
+        # rest Type
         ctk.CTkLabel(bot, text="Rest:", font=("Roboto", 11), text_color="gray60").pack(side="left", padx=(0, 5))
         rest_var = StringVar(value=rest_type)
         ctk.CTkOptionMenu(bot, variable=rest_var, values=["Long", "Short"],
                            font=("Roboto", 11), width=70, height=24,
-                           fg_color="gray17", button_color="gray25",
+                           fg_color="gray30", button_color="gray35",
                            button_hover_color=self.color, dropdown_hover_color=self.color).pack(side="left")
         
         self.shard_widgets[row_id] = (source_ent, type_var, shard_type_var,
@@ -2766,7 +2840,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         if count > 0:
             c_ent.configure(fg_color=self.color, text_color="white")
         else:
-            c_ent.configure(fg_color="gray17", text_color="gray90")
+            c_ent.configure(fg_color="gray25", text_color="gray90")
             
         # Calculate Saturation Tier & Multiplier
         s_str = s_ent.get()
@@ -2794,7 +2868,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         self._update_res_h(idx, self.resonance_count_entries, self.resonance_saturation_entries, self.normal_mult_labels)
 
     def _shard_long_rest(self):
-        """Long Rest: reset ALL slots, Shards, Resonance"""
+        """Long rest: reset ALL slots, Shards, Resonance"""
         # (Features and Hit Dice are handled by _long_rest calling this)
 
         # Reset All Shards
@@ -2823,7 +2897,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
             self.qp_chk.configure(state="normal")
 
     def _shard_short_rest(self):
-        """Short Rest: reset Warlock Pact slots"""
+        """Short rest: reset Warlock Pact slots"""
         # (SR Features and Hit Dice are handled by _short_rest calling this)
 
         # Reset Pact Slots
@@ -2988,7 +3062,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                  entry.insert(0, "0")
             entry.configure(text_color="#ff4d4d") # Soft red
         else:
-            # Restore base speed if we have one stored
+            # restore base speed if we have one stored
             if hasattr(self, '_base_speed_val') and self._base_speed_val is not None:
                 if entry.get() == "0":
                     entry.delete(0, "end")
@@ -3153,7 +3227,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
                 print(f"DEBUG: Linked aspect '{linked_aspect}' not found for field '{field}'")
             
             val_lbl.configure(text=f"{total:+}")
-            print(f"DEBUG: {field} -> Linked: {linked_aspect} ({aspect_val}) | Prof: {prof} | Aspect Prof: {aspect_prof} | Total: {total}")
+            print(f"DEBUG: {field} -> Linked: {linked_aspect} ({aspect_val}) | Prof: {prof} | Aspect prof: {aspect_prof} | Total: {total}")
         self.autosave_roll_configs()
 
     def update_tool_fields(self):
@@ -3187,6 +3261,7 @@ class CharacterSheetWindow(ctk.CTkToplevel):
 
     def gather_data(self):
         return {
+            "portrait": self.portrait_path,
             "name": self.name_entry.get(),
             "class": self.class_entry.get(),
             "race": self.race_entry.get(),
@@ -3239,6 +3314,12 @@ class CharacterSheetWindow(ctk.CTkToplevel):
         }
 
     def load_data(self, data):
+        # Load Portrait
+        self.portrait_path = data.get("portrait", "")
+        self._update_portrait_display()
+        if hasattr(self, 'parent') and hasattr(self.parent, 'send_portrait_update'):
+            self.parent.send_portrait_update()
+        
         for attr in ["name_entry", "class_entry", "race_entry", "level_entry", "background_entry", "languages_entry"]:
             if not hasattr(self, attr): continue
             entry = getattr(self, attr)
@@ -3733,6 +3814,7 @@ class GUI(ctk.CTk):
                 
                 self.not_closing=1
                 self.rescale=8
+                self.color = "#d63384" # Default pinkish color
                 self.options = [
                     "Chico",
                     "PicardÃ­a",
@@ -3748,6 +3830,7 @@ class GUI(ctk.CTk):
                 self.sn = StringVar(value='s')
                 self.anterior_items = []
                 self.players = []
+                self.portrait_images = {}  # Cache: player_name -> {size: CTkImage/PhotoImage}
                 
                 # chat window which is currently hidden
                 self.configure(fg_color="gray15")
@@ -3755,18 +3838,19 @@ class GUI(ctk.CTk):
 
                 self.roll_configs_dir = None
                 self.user_past_configs_dir = None
+                self.rollConfigBtts = []
                 self.protocol("WM_DELETE_WINDOW", self.on_closing)
                 
                 # login window 
                 self.login = ctk.CTkToplevel(fg_color="gray15") 
                 # set the title 
                 self.login.title("Login") 
-                self.center_window(self.login, 400, 125)
                 self.login.grid_columnconfigure(0, weight=1)
                 self.login.grid_rowconfigure(1, weight=1) # ONLY center row expands
                 self.login.grid_rowconfigure((0, 2), weight=0) # Keep bars at edges
-                self.login.resizable(width = False, height = False)
-                self.login.protocol("WM_DELETE_WINDOW", self.on_closing)  
+                self.login.resizable(width=False, height=False)
+                self.login.minsize(380, 0)
+                self.login.protocol("WM_DELETE_WINDOW", self.on_closing)
 
                 # create a Label
                 self.plsFrame=ctk.CTkFrame(self.login, fg_color="gray20")
@@ -3774,11 +3858,11 @@ class GUI(ctk.CTk):
                 self.plsFrame.grid(row=0, column=0, padx=self.rescale, pady=(self.rescale, 0), sticky="ew")
                 
                 self.pls = ctk.CTkLabel(self.plsFrame, text = "Please login to continue", font=("Roboto", 13)) 
-                self.pls.grid(row=0, column=0, padx=2, pady=1)
+                self.pls.grid(row=0, column=0, pady=(0,1))
                 
                 # create a Label 
                 self.labelName = ctk.CTkLabel(self.login, text="", font=("Roboto", 12)) 
-                self.labelName.grid(row=1, column=0, pady=0) # Centered vertically
+                self.labelName.grid(row=1, column=0, pady=(self.rescale, 0))
                 
                 # create a entry box for 
                 # typing the message 
@@ -3794,8 +3878,11 @@ class GUI(ctk.CTk):
                 # along with action 
                 self.go = ctk.CTkButton(self.login, 
                                                 text = "Login", 
-                                                fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda: self.goAhead(self.entryName.get()))
-                self.go.grid(row=2, column=0, pady=(0, self.rescale), padx=self.rescale, sticky="ew") 
+                                                fg_color="gray20", hover_color="gray30",
+                                                border_color=self.color, border_width=2,
+                                                font=("Roboto", 12), command = lambda: self.goAhead(self.entryName.get()))
+                self.go.grid(row=2, column=0, pady=self.rescale, padx=self.rescale, sticky="ew")
+                self.center_window(self.login)  # Size after widgets are placed
                 
 
         def center_window(self, window, width=None, height=None):
@@ -3886,6 +3973,27 @@ class GUI(ctk.CTk):
                     self.on_closing()
                 color_header=f"{len(color):<{HEADER_LENGTH}}".encode(FORMAT)
                 client.send(color_header + color)
+                
+                # Send portrait thumbnail data
+                portrait_data = None
+                try:
+                    if hasattr(self, 'SheetWindow') and self.SheetWindow.portrait_path:
+                        path = self.SheetWindow.portrait_path
+                        if not os.path.isabs(path):
+                            path = os.path.join(BASE_DIR, path)
+                        if os.path.exists(path):
+                            img = Image.open(path)
+                            img = img.resize((32, 32), Image.LANCZOS)
+                            import io
+                            buf = io.BytesIO()
+                            img.save(buf, format='PNG')
+                            portrait_data = buf.getvalue()
+                except Exception as e:
+                    print(f"Portrait send error: {e}")
+                portrait_msg = pickle.dumps(portrait_data)
+                portrait_header = f"{len(portrait_msg):<{HEADER_LENGTH}}".encode(FORMAT)
+                client.send(portrait_header + portrait_msg)
+                
                 self.login.destroy()
 
                 # Setup user-specific past configs folder
@@ -3910,21 +4018,66 @@ class GUI(ctk.CTk):
 
         def onPlayerSelec(self, c):
             try:
-                player_name = self.players[c]['name']
-                player_color = self.players[c]['color']
+                player_dict = self.players[c]
+                player_name = player_dict['name']
+                player_color = player_dict['color']
                 self.roll_list.append(player_name)  # Add player to roll list
-                tempLabel = ctk.CTkButton(self.label,
-                                                        fg_color="gray25",
-                                                        hover=False,
-                                                        border_color=player_color,
-                                                        border_width=2,
-                                                        text = player_name,
-                                                        font=("Roboto", 12))
+                
+                # Build portrait icon
+                p_icon = self._get_player_portrait_icon(player_dict, 32)
+                
+                btn_kwargs = dict(
+                    fg_color="gray25",
+                    hover=False,
+                    border_color=player_color,
+                    border_width=2,
+                    text = player_name,
+                    font=("Roboto", 12),
+                    anchor="w",
+                )
+                if p_icon:
+                    btn_kwargs['image'] = p_icon
+                    btn_kwargs['compound'] = 'left'
+                    
+                tempLabel = ctk.CTkButton(self.label, **btn_kwargs)
                 self.playerSelected.append(tempLabel)
-                self.playerSelected[-1].grid(row=len(self.playerSelected)-1, column=0, pady=(0,self.rescale), sticky="ew")
+                self.playerSelected[-1].grid(row=len(self.playerSelected)-1, column=0, pady=(0,self.rescale), padx=self.rescale, sticky="ew")
             except IndexError:
                 pass
 
+        def populate_roll_list(self):
+            """Populate the roll sidebar with available roll configurations."""
+            # Clear previous buttons
+            for btn in self.rollConfigBtts:
+                btn.destroy()
+            self.rollConfigBtts = []
+            
+            # Also clear player selections if we're switching to configs
+            for btn in self.playerBtts2:
+                btn.destroy()
+            self.playerBtts2 = []
+
+            if not self.roll_configs_dir or not os.path.exists(self.roll_configs_dir):
+                return
+
+            try:
+                files = sorted([f for f in os.listdir(self.roll_configs_dir) if f.endswith(".pkl")])
+                for i, filename in enumerate(files):
+                    name = os.path.splitext(filename)[0]
+                    filepath = os.path.join(self.roll_configs_dir, filename)
+                    
+                    btn = ctk.CTkButton(self.sidebaroll, 
+                                        text=name, 
+                                        fg_color="gray25", hover_color="gray35",
+                                        border_color=self.color, border_width=2,
+                                        font=("Roboto", 12),
+                                        anchor="w",
+                                        command=lambda f=filepath: self.openfile(f))
+                    btn.grid(row=i, column=0, pady=(0, self.rescale), sticky="ew")
+                    self.rollConfigBtts.append(btn)
+            except Exception as e:
+                print(f"Error populating roll list: {e}")
+
         def rollerrola(self):
             message_sent = pickle.dumps(roll(self.roll_list,self.who.get()))
             message_sent_header = f"{len(message_sent):<{HEADER_LENGTH}}".encode(FORMAT)
@@ -3945,35 +4098,109 @@ class GUI(ctk.CTk):
                     self.playerBtts[c].configure(fg_color='gray85')
                     self.players[c]['selected'] = False
 
+        def _get_player_portrait_icon(self, player_dict, size):
+            """Get a round CTkImage portrait icon for a player."""
+            name = player_dict.get('name', '')
+            portrait_data = player_dict.get('portrait_data')
+            if not portrait_data:
+                return None
+            cache_key = f"{name}_round_{size}"
+            if cache_key in self.portrait_images:
+                return self.portrait_images[cache_key]
+            try:
+                import io
+                img = Image.open(io.BytesIO(portrait_data))
+                img = img.resize((size, size), Image.LANCZOS)
+                
+                # Make circular
+                mask = Image.new('L', (size, size), 0)
+                draw = ImageDraw.Draw(mask)
+                draw.ellipse((0, 0, size-1, size-1), fill=255)
+                
+                round_img = Image.new('RGBA', (size, size), (0, 0, 0, 0))
+                round_img.paste(img, (0, 0))
+                round_img.putalpha(mask)
+                
+                ctk_img = ctk.CTkImage(light_image=round_img, dark_image=round_img, size=(size, size))
+                self.portrait_images[cache_key] = ctk_img
+                return ctk_img
+            except Exception as e:
+                print(f"Portrait icon error for {name}: {e}")
+                return None
+
+        def _get_player_chat_icon(self, sender_name):
+            """Get a round PhotoImage portrait icon for chat inline display (24x24)."""
+            size = 24
+            if sender_name == 'Server':
+                return None
+            cache_key = f"{sender_name}_chat_round_{size}"
+            if cache_key in self.portrait_images:
+                return self.portrait_images[cache_key]
+            # Find portrait data in players list
+            for p in self.players:
+                if p.get('name') == sender_name:
+                    portrait_data = p.get('portrait_data')
+                    if portrait_data:
+                        try:
+                            import io
+                            from PIL import ImageTk
+                            img = Image.open(io.BytesIO(portrait_data))
+                            img = img.resize((size, size), Image.LANCZOS)
+                            # Make circular mask
+                            mask = Image.new('L', (size, size), 0)
+                            draw = ImageDraw.Draw(mask)
+                            draw.ellipse((0, 0, size-1, size-1), fill=255)
+                            output = Image.new('RGBA', (size, size), (0, 0, 0, 0))
+                            output.paste(img, (0, 0))
+                            output.putalpha(mask)
+                            tk_img = ImageTk.PhotoImage(output)
+                            self.portrait_images[cache_key] = tk_img
+                            return tk_img
+                        except Exception as e:
+                            print(f"Chat icon error for {sender_name}: {e}")
+                    break
+            return None
+
         def createSidebarButtons(self):
             for playerBtt in self.playerBtts:
                 playerBtt.destroy()
             for playerBtt in self.playerBtts2:
                 playerBtt.destroy()
+            for configBtt in self.rollConfigBtts:
+                configBtt.destroy()
 
             self.playerBtts = []
             self.playerBtts2 = []
+            self.rollConfigBtts = []
 
             for i in range(len(self.players)):
-                tempButton = ctk.CTkButton(self.sidebar,
-                                                fg_color="gray25", hover_color="gray35",
-                                                border_color=self.players[i]['color'],
-                                                border_width=2,
-                                                text = self.players[i]['name'],
-                                                font=("Roboto", 12),
+                # Build portrait icon for this player
+                p_icon = self._get_player_portrait_icon(self.players[i], 32)
+                
+                btn_kwargs = dict(
+                    fg_color="gray25", hover_color="gray35",
+                    border_color=self.players[i]['color'],
+                    border_width=2,
+                    text=self.players[i]['name'],
+                    font=("Roboto", 12),
+                    anchor="w",
+                )
+                if p_icon:
+                    btn_kwargs['image'] = p_icon
+                    btn_kwargs['compound'] = 'left'
+                
+                # Main Chat Sidebar - Include Everyone
+                tempButton = ctk.CTkButton(self.sidebar, **btn_kwargs,
                                                 command=lambda c=i: self.onPlayerClick(c))
                 self.playerBtts.append(tempButton)
-                self.playerBtts[-1].grid(row=i, column=0, pady=(0,self.rescale), sticky="ew")
+                self.playerBtts[-1].grid(row=i, column=0, pady=(0,self.rescale), padx=self.rescale, sticky="ew")
 
-                tempButton = ctk.CTkButton(self.sidebaroll,
-                                                    fg_color="gray25", hover_color="gray35",
-                                                    border_color=self.players[i]['color'],
-                                                    border_width=2,
-                                                    text = self.players[i]['name'],
-                                                    font=("Roboto", 12),
-                                                    command=lambda c=i: self.onPlayerSelec(c))
-                self.playerBtts2.append(tempButton)
-                self.playerBtts2[-1].grid(row=i, column=0, pady=(0,self.rescale), sticky="ew")
+                # Roll Window Sidebar - Exclude Self
+                if self.players[i]['name'] != self.my_name:
+                    tempButton = ctk.CTkButton(self.sidebaroll, **btn_kwargs,
+                                                        command=lambda c=i: self.onPlayerSelec(c))
+                    self.playerBtts2.append(tempButton)
+                    self.playerBtts2[-1].grid(row=len(self.playerBtts2)-1, column=0, pady=(0,self.rescale), padx=self.rescale, sticky="ew")
 
         def transl(self, res):
             p, crit, r=(2000-res.p)/100, (2000-res.crit)/100, (2000-res.r)/100
@@ -4372,119 +4599,328 @@ class GUI(ctk.CTk):
                 self.sheetbtt.configure(text='â—„')
 
         ##-----------------------------------------------
+        def get_categorized_roll_configs(self):
+            """Return roll configs organized by category.
+            Returns a dict: {category_name: items} where items is either:
+              - A list of (display_name, filepath) tuples (for flat categories)
+              - A dict {subcategory: [(display_name, filepath), ...]} (for nested categories)
+            """
+            result = {
+                "Saves and AA": [],
+                "Aspects": {"Mind": [], "Soul": [], "Senses": [], "Body": []},
+                "Knowledge Fields": {},
+                "Tools": {},
+                "Equipment": {},
+                "Custom": []
+            }
+            rc_dir = getattr(self, 'roll_configs_dir', None)
+            if not rc_dir or not os.path.isdir(rc_dir):
+                return result
+
+            aspects_by_stat = {
+                "Mind": [a.lower() for a in ["Concentration", "Investigation", "Convincing", "Simulation"]],
+                "Soul": [a.lower() for a in ["Meditation", "Awareness", "Performance", "Trustworthiness"]],
+                "Senses": [a.lower() for a in ["Precision", "Mobility", "Acrobatics", "Dexterity"]],
+                "Body": [a.lower() for a in ["Potency", "Resilience", "Athletics", "Constitution"]]
+            }
+            save_names = [s.lower() for s in ["Body save", "Mind save", "Soul save", "Senses save"]]
+            equip_keywords = ["spell", "attack", "as", "dagger", "sword", "bow", "switchblade", "crossbow", "hammer", "axe", "whip"]
+
+            try:
+                files = sorted([f for f in os.listdir(rc_dir) if f.endswith(".pkl")])
+                for filename in files:
+                    name_orig = os.path.splitext(filename)[0]
+                    name = name_orig.lower()
+                    filepath = os.path.join(rc_dir, filename)
+                    entry = (name_orig, filepath)
+
+                    config_aspect = None
+                    try:
+                        with open(filepath, "rb") as f:
+                            cfg = pickle.load(f)
+                            config_aspect = getattr(cfg, 'aspect', None)
+                    except: pass
+
+                    # 1. Saves and AA
+                    if name in save_names or "aa" in name:
+                        result["Saves and AA"].append(entry)
+                        continue
+
+                    # 2. Aspects
+                    placed = False
+                    for stat, asp_list in aspects_by_stat.items():
+                        if name in asp_list:
+                            result["Aspects"][stat].append(entry)
+                            placed = True
+                            break
+                    if placed: continue
+
+                    # 3. Categorize by metadata or name matching
+                    known_fields_lower = {k.lower(): v for k, v in CharacterSheetWindow.KNOWLEDGE_ASPECTS.items()}
+
+                    target_cat = None
+                    if name in known_fields_lower:
+                        target_cat = "Knowledge Fields"
+                        if not config_aspect: config_aspect = known_fields_lower[name]
+                    elif any(k.lower() in name for k in CharacterSheetWindow.TOOL_SET_OPTIONS + CharacterSheetWindow.INSTRUMENT_OPTIONS + CharacterSheetWindow.GAMING_SET_OPTIONS) or "tools" in name:
+                        target_cat = "Tools"
+                        if not config_aspect: config_aspect = self.SheetWindow._guess_linked_aspect(name_orig)
+                    elif config_aspect:
+                        target_cat = "Equipment"
+                    elif any(k in name for k in equip_keywords):
+                        target_cat = "Equipment"
+
+                    if target_cat is not None:
+                        asp_name = config_aspect if config_aspect else "Other"
+                        if asp_name not in result[target_cat]:
+                            result[target_cat][asp_name] = []
+                        result[target_cat][asp_name].append(entry)
+                    else:
+                        result["Custom"].append(entry)
+            except Exception as e:
+                print(f"DEBUG: Error categorizing roll configs: {e}")
+
+            return result
+
         def build_menu(self):
             self.menubar.add_cascade(label="File", menu=self.openmenu)
             self.openmenu.add_command(label="Open new...", command=lambda: self.openfile(0))
             self.openmenu.add_command(label="Save", command=self.savefile)
             self.openmenu.add_command(label="Save as..", command=self.savefileas)
             
-            # Roll Configs dropdown
             rc_dir = getattr(self, 'roll_configs_dir', None)
             if rc_dir and os.path.isdir(rc_dir):
                 self.openmenu.add_separator()
-                
-                # Main Categories
-                saves_menu = Menu(self.openmenu, tearoff=0)
-                aspects_menu = Menu(self.openmenu, tearoff=0)
-                knowledge_menu = Menu(self.openmenu, tearoff=0)
-                tools_menu = Menu(self.openmenu, tearoff=0)
-                equip_menu = Menu(self.openmenu, tearoff=0)
-                custom_menu = Menu(self.openmenu, tearoff=0)
-                
-                self.openmenu.add_cascade(label="Saves and AA", menu=saves_menu)
-                self.openmenu.add_cascade(label="Aspects", menu=aspects_menu)
-                self.openmenu.add_cascade(label="Knowledge Fields", menu=knowledge_menu)
-                self.openmenu.add_cascade(label="Tools", menu=tools_menu)
-                self.openmenu.add_cascade(label="Equipment / Spells / Features", menu=equip_menu)
-                self.openmenu.add_cascade(label="Custom", menu=custom_menu)
-
-                # Nested Aspect Submenus (Stats) - Use UPPERCASE for labels to match UI
-                stat_menus = {
-                    "Mind": Menu(aspects_menu, tearoff=0),
-                    "Soul": Menu(aspects_menu, tearoff=0),
-                    "Senses": Menu(aspects_menu, tearoff=0),
-                    "Body": Menu(aspects_menu, tearoff=0)
-                }
-                for stat, m in stat_menus.items():
-                    aspects_menu.add_cascade(label=stat, menu=m)
-
-                # Track Aspect Submenus for other categories
-                knowledge_aspect_menus = {}
-                tools_aspect_menus = {}
-                equip_aspect_menus = {}
-
-                # Mappings (Lowercase keys for robust matching)
-                aspects_by_stat = {
-                    "Mind": [a.lower() for a in ["Concentration", "Investigation", "Convincing", "Simulation"]],
-                    "Soul": [a.lower() for a in ["Meditation", "Awareness", "Performance", "Trustworthiness"]],
-                    "Senses": [a.lower() for a in ["Precision", "Mobility", "Acrobatics", "Dexterity"]],
-                    "Body": [a.lower() for a in ["Potency", "Resilience", "Athletics", "Constitution"]]
-                }
-                save_names = [s.lower() for s in ["Body save", "Mind save", "Soul save", "Senses save"]]
-                equip_keywords = ["spell", "attack", "as", "dagger", "sword", "bow", "switchblade", "crossbow", "hammer", "axe", "whip"]
+                categorized = self.get_categorized_roll_configs()
+
+                for cat_name, cat_data in categorized.items():
+                    cat_menu = Menu(self.openmenu, tearoff=0)
+                    self.openmenu.add_cascade(label=cat_name, menu=cat_menu)
+
+                    if isinstance(cat_data, dict):
+                        for sub_name, items in cat_data.items():
+                            if items:
+                                sub_menu = Menu(cat_menu, tearoff=0)
+                                cat_menu.add_cascade(label=sub_name, menu=sub_menu)
+                                for display_name, filepath in items:
+                                    sub_menu.add_command(label=display_name, command=lambda f=filepath: self.openfile(f))
+                    else:
+                        for display_name, filepath in cat_data:
+                            cat_menu.add_command(label=display_name, command=lambda f=filepath: self.openfile(f))
 
-                try:
-                    files = sorted([f for f in os.listdir(rc_dir) if f.endswith(".pkl")])
-                    for filename in files:
-                        name_orig = os.path.splitext(filename)[0]
-                        name = name_orig.lower()
-                        filepath = os.path.join(rc_dir, filename)
-                        cmd = lambda f=filepath: self.openfile(f)
-                        
-                        # Load config to check for aspect metadata
-                        config_aspect = None
-                        try:
-                            with open(filepath, "rb") as f:
-                                cfg = pickle.load(f)
-                                config_aspect = getattr(cfg, 'aspect', None)
-                        except: pass
-
-                        # 1. Saves and AA
-                        if name in save_names or "aa" in name:
-                            saves_menu.add_command(label=name_orig, command=cmd)
-                            continue
-
-                        # 2. Aspects
-                        placed = False
-                        for stat, asp_list in aspects_by_stat.items():
-                            if name in asp_list:
-                                stat_menus[stat].add_command(label=name_orig, command=cmd)
-                                placed = True
-                                break
-                        if placed: continue
+        def show_pie_menu(self):
+            """Show a circular pie menu for quick roll config loading."""
+            # Dismiss any existing pie menu
+            self.dismiss_pie_menu()
 
-                        # 3. Categorize by metadata or name matching
-                        target_menu = None
-                        aspect_tracking_dict = None
-                        
-                        # Use CharacterSheetWindow for lookup (case-insensitive keys)
-                        known_fields_lower = {k.lower(): v for k, v in CharacterSheetWindow.KNOWLEDGE_ASPECTS.items()}
-                        
-                        if name in known_fields_lower:
-                            target_menu = knowledge_menu
-                            aspect_tracking_dict = knowledge_aspect_menus
-                            if not config_aspect: config_aspect = known_fields_lower[name]
-                        elif any(k.lower() in name for k in CharacterSheetWindow.TOOL_SET_OPTIONS + CharacterSheetWindow.INSTRUMENT_OPTIONS + CharacterSheetWindow.GAMING_SET_OPTIONS) or "tools" in name:
-                            target_menu = tools_menu
-                            aspect_tracking_dict = tools_aspect_menus
-                            if not config_aspect: config_aspect = self.SheetWindow._guess_linked_aspect(name_orig)
-                        elif config_aspect: # Metadata exists but not a known Knowledge/Tool
-                            target_menu = equip_menu
-                            aspect_tracking_dict = equip_aspect_menus
-                        elif any(k in name for k in equip_keywords):
-                            target_menu = equip_menu
-                            aspect_tracking_dict = equip_aspect_menus
-                        
-                        if target_menu is not None:
-                            asp_name = config_aspect if config_aspect else "Other"
-                            if asp_name not in aspect_tracking_dict:
-                                aspect_tracking_dict[asp_name] = Menu(target_menu, tearoff=0)
-                                target_menu.add_cascade(label=asp_name, menu=aspect_tracking_dict[asp_name])
-                            aspect_tracking_dict[asp_name].add_command(label=name_orig, command=cmd)
-                        else:
-                            custom_menu.add_command(label=name_orig, command=cmd)
-                except Exception as e:
-                    print(f"DEBUG: Error building roll menu: {e}")
+            categorized = self.get_categorized_roll_configs()
+            self._pie_categorized = categorized
+
+            categories = list(categorized.keys())
+            n = len(categories)
+            if n == 0:
+                return
+
+            # Transparent color key for Windows
+            TRANSPARENT = '#f0f0f0'
+
+            # Create borderless toplevel with transparent bg
+            self._pie_win = Toplevel(bg=TRANSPARENT)
+            self._pie_win.overrideredirect(True)
+            self._pie_win.attributes('-topmost', True)
+            self._pie_win.attributes('-transparentcolor', TRANSPARENT)
+
+            pie_size = 340
+            cx, cy = pie_size // 2, pie_size // 2
+            radius = 145
+            inner_radius = 40
+
+            canvas = Canvas(self._pie_win, width=pie_size, height=pie_size,
+                            bg=TRANSPARENT, highlightthickness=0, bd=0)
+            canvas.pack()
+
+            angle_step = 360 / n
+            base_color = '#4a4a4a'
+            hover_color = self.color
+            wedge_ids = []
+            label_ids = []
+
+            # Friendly short names for pie labels
+            short_names = {
+                "Knowledge Fields": "Knowledge",
+                "Saves and AA": "Saves/AA",
+            }
+
+            for i, cat in enumerate(categories):
+                start_angle = i * angle_step - 90  # Start from top
+                # Outer arc
+                outer_id = canvas.create_arc(
+                    cx - radius, cy - radius, cx + radius, cy + radius,
+                    start=start_angle, extent=angle_step,
+                    fill=base_color, outline='#555555', width=2, style='pieslice'
+                )
+                wedge_ids.append(outer_id)
+
+                # Label position at midpoint of wedge
+                mid_angle = math.radians(start_angle + angle_step / 2)
+                label_r = (radius + inner_radius) / 2 + 5
+                lx = cx + label_r * math.cos(mid_angle)
+                ly = cy - label_r * math.sin(mid_angle)
+
+                short_label = short_names.get(cat, cat)
+
+                text_id = canvas.create_text(
+                    lx, ly, text=short_label, fill='white',
+                    font=('Roboto', 10, 'bold'), anchor='center'
+                )
+                label_ids.append(text_id)
+
+            # Draw center circle (styled like a button)
+            center_circle = canvas.create_oval(
+                cx - inner_radius, cy - inner_radius,
+                cx + inner_radius, cy + inner_radius,
+                fill='#3b3b3b', outline=self.color, width=2
+            )
+            center_text = canvas.create_text(
+                cx, cy, text='\u2715', fill='white',
+                font=('Roboto', 16, 'bold'), anchor='center'
+            )
+
+            # Center button hover effects
+            def on_center_enter(event):
+                canvas.itemconfig(center_circle, fill='#4a4a4a')
+            def on_center_leave(event):
+                canvas.itemconfig(center_circle, fill='#3b3b3b')
+            canvas.tag_bind(center_circle, '<Enter>', on_center_enter)
+            canvas.tag_bind(center_circle, '<Leave>', on_center_leave)
+            canvas.tag_bind(center_text, '<Enter>', on_center_enter)
+            canvas.tag_bind(center_text, '<Leave>', on_center_leave)
+
+            # Hover and click handlers
+            def on_motion(event):
+                dx = event.x - cx
+                dy = event.y - cy
+                dist = math.sqrt(dx*dx + dy*dy)
+                if dist < inner_radius or dist > radius:
+                    # Reset all wedges
+                    for wid in wedge_ids:
+                        canvas.itemconfig(wid, fill=base_color)
+                    return
+                # Find which wedge
+                angle = math.degrees(math.atan2(-dy, dx))  # tkinter y is inverted
+                angle = (angle + 90) % 360  # Offset so 0 is at top
+                idx = int(angle // angle_step)
+                if idx >= n: idx = n - 1
+                for j, wid in enumerate(wedge_ids):
+                    canvas.itemconfig(wid, fill=hover_color if j == idx else base_color)
+
+            def on_click(event):
+                dx = event.x - cx
+                dy = event.y - cy
+                dist = math.sqrt(dx*dx + dy*dy)
+                if dist < inner_radius:
+                    self.dismiss_pie_menu()
+                    return
+                if dist > radius:
+                    # Clicked outside pie â€” dismiss
+                    self.dismiss_pie_menu()
+                    return
+                angle = math.degrees(math.atan2(-dy, dx))
+                angle = (angle + 90) % 360
+                idx = int(angle // angle_step)
+                if idx >= n: idx = n - 1
+                cat_name = categories[idx]
+                self.show_pie_submenu(cat_name, categorized[cat_name])
+
+            canvas.bind('<Motion>', on_motion)
+            canvas.bind('<Button-1>', on_click)
+            canvas.tag_bind(center_circle, '<Button-1>', lambda e: self.dismiss_pie_menu())
+            canvas.tag_bind(center_text, '<Button-1>', lambda e: self.dismiss_pie_menu())
+
+            # Position near the + button
+            self._pie_win.update_idletasks()
+            btn_x = self.pie_menu_btn.winfo_rootx()
+            btn_y = self.pie_menu_btn.winfo_rooty()
+            win_x = btn_x - pie_size // 2 + self.pie_menu_btn.winfo_width() // 2
+            win_y = btn_y - pie_size - 5
+            self._pie_win.geometry(f"{pie_size}x{pie_size}+{win_x}+{win_y}")
+
+            # Escape key dismisses
+            self._pie_win.bind('<Escape>', lambda e: self.dismiss_pie_menu())
+            self._pie_win.focus_force()
+
+        def show_pie_submenu(self, cat_name, cat_data):
+            """Show a submenu list for a selected pie category."""
+            self.dismiss_pie_menu()
+
+            sub_win = ctk.CTkToplevel(fg_color="gray20")
+            sub_win.overrideredirect(True)
+            sub_win.attributes('-topmost', True)
+            self._pie_win = sub_win  # Track for dismissal
+
+            frame = ctk.CTkScrollableFrame(sub_win, fg_color="gray20",
+                                            scrollbar_button_color="gray25",
+                                            scrollbar_button_hover_color="gray35",
+                                            width=220, height=300)
+            frame.pack(fill=BOTH, expand=True, padx=self.rescale, pady=self.rescale)
+
+            # Back / title bar
+            title_frame = ctk.CTkFrame(frame, fg_color="gray25", corner_radius=6)
+            title_frame.pack(fill=X, padx=self.rescale, pady=(self.rescale, self.rescale))
+            back_btn = ctk.CTkButton(title_frame, text="â—„", width=28, height=24,
+                                      fg_color="gray25", hover_color="gray35",
+                                      border_color=self.color, border_width=2,
+                                      font=("Roboto", 12, "bold"),
+                                      command=lambda: [self.dismiss_pie_menu(), self.show_pie_menu()])
+            back_btn.pack(side=LEFT, padx=self.rescale, pady=self.rescale)
+            ctk.CTkLabel(title_frame, text=cat_name, font=("Roboto", 12, "bold")).pack(side=LEFT, padx=self.rescale, pady=self.rescale)
+
+            def add_item_button(parent, display_name, filepath):
+                btn = ctk.CTkButton(parent, text=display_name, height=26,
+                                    fg_color="gray25", hover_color="gray35",
+                                    border_color=self.color, border_width=1,
+                                    font=("Roboto", 12), anchor="w",
+                                    command=lambda f=filepath: [self.dismiss_pie_menu(), self.openfile(f)])
+                btn.pack(fill=X, padx=self.rescale, pady=(0, self.rescale))
+
+            if isinstance(cat_data, dict):
+                for sub_name, items in cat_data.items():
+                    if not items:
+                        continue
+                    header = ctk.CTkLabel(frame, text=sub_name,
+                                          fg_color="gray30", corner_radius=4,
+                                          font=("Roboto", 12, "bold"))
+                    header.pack(fill=X, padx=self.rescale, pady=(self.rescale, self.rescale))
+                    for display_name, filepath in items:
+                        add_item_button(frame, display_name, filepath)
+            else:
+                for display_name, filepath in cat_data:
+                    add_item_button(frame, display_name, filepath)
+
+            # Position near the + button
+            sub_win.update_idletasks()
+            btn_x = self.pie_menu_btn.winfo_rootx()
+            btn_y = self.pie_menu_btn.winfo_rooty()
+            win_w = 230
+            win_h = min(350, sub_win.winfo_reqheight())
+            win_x = btn_x - win_w // 2 + self.pie_menu_btn.winfo_width() // 2
+            win_y = btn_y - win_h - 5
+            sub_win.geometry(f"{win_w}x{win_h}+{win_x}+{win_y}")
+
+            # Escape key dismisses
+            sub_win.bind('<Escape>', lambda e: self.dismiss_pie_menu())
+            sub_win.bind('<FocusOut>', lambda e: self.after(150, self.dismiss_pie_menu))
+            sub_win.focus_force()
+
+        def dismiss_pie_menu(self):
+            """Dismiss the pie menu or submenu if open."""
+            if hasattr(self, '_pie_win') and self._pie_win is not None:
+                try:
+                    if self._pie_win.winfo_exists():
+                        self._pie_win.destroy()
+                except (TclError, Exception):
+                    pass
+                self._pie_win = None
                 
         def modify(self, a, b, c):
             self.modified=1           
@@ -4558,14 +4994,12 @@ class GUI(ctk.CTk):
                     self.resor[i].subButtons.append(ctk.CTkButton(self.resor[i].mainFrame, 
                                                                     text = text, 
                                                                     fg_color="gray25", hover_color="gray35", border_color=self.color, border_width=2,
-                                                                    font=("Roboto", 12),
-                                                                    command = lambda c=(i, j): self.destroy_subres(c)))
-                    self.resor[i].subButtons[-1].grid(row=j+1, column=0, padx=self.rescale, pady=(0,self.rescale), columnspan=2, sticky="ew")
+                self.resor[i].subButtons[-1].grid(row=j+1, column=0, padx=self.rescale, pady=(0,self.rescale), columnspan=2, sticky="ew")
                     self.resor[i].subButtons[-1].bind("<Button-3>", lambda event, idx=(i, j): self.toggle_hidden_subres(idx))
 
-                self.resor[i].delButton=ctk.CTkButton(self.resor[i].mainFrame, 
-                                                                    text = "Delete resource", 
-                                                                    fg_color=self.color, hover_color="gray35", font=("Roboto", 14), command = lambda idx=i: self.destroy_res(idx), border_width=2)
+                self.resor[i].delButton=ctk.CTkButton(self.resor[i].mainFrame,
+                                                                    text = "Delete resource",
+                                                                    fg_color=self.color, hover_color="gray35", font=("Roboto", 14), command = lambda idx=i: self.destroy_res(idx), border_color=self.color, border_width=2)
                 self.resor[i].delButton.grid(row=len(self.resor[i].listSubres)+1, column=0, padx=self.rescale, pady=self.rescale, columnspan=2, sticky="ew")
 
         def destroy_all(self):
@@ -4583,7 +5017,7 @@ class GUI(ctk.CTk):
                     self.aFrame.destroy()
                 except (TclError, Exception):
                     pass
-            
+
             # Destroy all resource frames
             if hasattr(self, 'resor'):
                 for r in self.resor:
@@ -4596,49 +5030,22 @@ class GUI(ctk.CTk):
 
         def destroy_subres(self, pos):
             self.resor[pos[0]].listSubres.pop(pos[1])
-        def createSidebarButtons(self):
-            for playerBtt in self.playerBtts:
-                playerBtt.destroy()
-            for playerBtt in self.playerBtts2:
-                playerBtt.destroy()
-
-            self.playerBtts = []
-            self.playerBtts2 = []
-
-            for i in range(len(self.players)):
-                tempButton = ctk.CTkButton(self.sidebar,
-                                                fg_color="gray25", hover_color="gray35",
-                                                border_color=self.players[i]['color'],
-                                                border_width=2,
-                                                text = self.players[i]['name'],
-                                                command=lambda c=i: self.onPlayerClick(c))
-                self.playerBtts.append(tempButton)
-                self.playerBtts[-1].grid(row=i, column=0, pady=(0,self.rescale), sticky="ew")
-
-                tempButton = ctk.CTkButton(self.sidebaroll,
-                                                    fg_color="gray25", hover_color="gray35",
-                                                    border_color=self.players[i]['color'],
-                                                    border_width=2,
-                                                    text = self.players[i]['name'],
-                                                    command=lambda c=i: self.onPlayerSelec(c))
-                self.playerBtts2.append(tempButton)
-                self.playerBtts2[-1].grid(row=i, column=0, pady=(0,self.rescale), sticky="ew")
 
         def load_local_roll(self, filepath):
             """Load a local roll config into the roll window fields"""
             try:
                 with open(filepath, "rb") as f:
                     config = pickle.load(f)
-                
+
                 # Reset fields (clears inputs)
                 self.ac.set(0); self.aa.set(0); self.ad[0].set(0); self.ad[1].set(0)
                 self.ic.set(0); self.ia.set(0); self.id[0].set(0); self.id[1].set(0)
                 self.pc.set(0); self.pa.set(0); self.pd[0].set(0); self.pd[1].set(0)
-                
+
                 # Clear existing resources
                 self.resor = []
                 self.destroy_all() # Clears UI list
-                
+
                 # Load Anterior Inputs
                 if hasattr(config, 'premods') and config.premods:
                     self.ac.set(config.premods.const)
@@ -4652,7 +5059,7 @@ class GUI(ctk.CTk):
                     # Add Main Resource
                     config_name = os.path.basename(filepath).replace(".pkl", "")
                     main_res = resource(1, config_name)
-                    
+
                     # Convert AnteriorItems to posmod (sub-resources)
                     # Note: posmod architecture is: typ, timing(name), num1, num2
                     for item in config.premods.items:
@@ -4664,20 +5071,20 @@ class GUI(ctk.CTk):
                             p_mod = posmod('adv', 'Base', item.val1, 0, hidden=item.hidden)
                         elif item.typ == 'dice':
                             p_mod = posmod('dice', 'Base', item.val1, item.val2, hidden=item.hidden)
-                        
+
                         if p_mod:
                             main_res.listSubres.append(p_mod)
-                            
+
                     self.resor.append(main_res)
-                    
+
                 self.destroy_all()
                 self.build_resor()
-                self.modified=1 
+                self.modified=1
                 self.hiddenAnte.set(False)
                 self.hiddenRes.set(False)
                 self.hiddenInter.set(False)
                 self.hiddenPost.set(False)
-                
+
             except Exception as e:
                 print(f"Error loading local roll: {e}")
                 print(traceback.format_exc())
@@ -4721,17 +5128,17 @@ class GUI(ctk.CTk):
                 self.build_resor()
                 self.selectRes.set(len(self.resor))
                 self.modified=1
-            
+
         def anteadvpaste(self, num):
             try:
                 if num:
                     self.anterior_items.append(AnteriorItem('adv', num, hidden=False))
                     self.destroy_all()
-                    self.build_resor()                
+                    self.build_resor()
                     self.modified=1
             except:
                 pass
-        
+
         def antepaste(self, num1, num2):
             try:
                 if num1 and num2:
@@ -4757,7 +5164,7 @@ class GUI(ctk.CTk):
                 self.build_resor()
                 self.modified=1
 
-        def conversao(self): 
+        def conversao(self):
             try:
                 c_sum = 0
                 a_sum = 0
@@ -4768,7 +5175,7 @@ class GUI(ctk.CTk):
                         a_sum += item.val1
                     elif item.typ == 'dice':
                         c_sum += int(item.val1 * (item.val2 + 1) / 2)
-                
+
                 # premod constructor: adv, const, items
                 pm = premod(a_sum, c_sum, self.anterior_items)
                 return bloco(pm, self.clean_resor(), self.sn.get(), int(self.crit.get())/100, int(self.mini.get()))
@@ -4813,16 +5220,16 @@ class GUI(ctk.CTk):
             for i in resor:
                 self.resor.append(resource(str(i.qnt), i.resName))
                 self.resor[-1].listSubres=i.listSubres
-                # Restore hidden status for the resource
+                # restore hidden status for the resource
                 if hasattr(i, 'hidden'):
                     self.resor[-1].hidden = i.hidden
-            
-            # Restore anterior items from premods
+
+            # restore anterior items from premods
             if hasattr(self.premod, 'items') and self.premod.items:
                 self.anterior_items = self.premod.items
             else:
                 self.anterior_items = []
-        
+
             self.critbox.set(int(100*crit))
             self.minbox.set(mini)
 
@@ -4831,28 +5238,28 @@ class GUI(ctk.CTk):
         def flip_values(self):
             self.premod.adv*=-1
             self.premod.const*=-1
-            
+
             for i in self.resor:
                 for j in range(len(i.listSubres)):
                     i.listSubres[j].num1*=-1
-        
+
             self.build_resor()
 
-        def savefile(self):             
+        def savefile(self):
             if self.path != '':
                 block = self.conversao()
                 with open(self.path, 'wb') as file:
                     pickle.dump(block, file)
-                    self.modified=0                       
+                    self.modified=0
             else:
-                self.savefileas()     
+                self.savefileas()
 
-        def savefileas(self):    
+        def savefileas(self):
             try:
                 # Default to roll configs folder if available
                 rc_dir = getattr(self, 'roll_configs_dir', None)
                 initial_dir = rc_dir if rc_dir and os.path.isdir(rc_dir) else None
-                
+
                 self.path = filedialog.asksaveasfilename(
                     parent=self.Window2,
                     initialdir=initial_dir,
@@ -4861,7 +5268,7 @@ class GUI(ctk.CTk):
                 )
                 if not self.path:
                     return
-                    
+
                 block = self.conversao()
                 with open(self.path, 'wb') as file:
                     pickle.dump(block, file)
@@ -4882,22 +5289,22 @@ class GUI(ctk.CTk):
                     if pre_path:
                         self.path=pre_path
                     else:
-                        self.path = filedialog.askopenfile(parent=self.Window2, filetypes = [("Roll Configs", "*.pkl"), ("Text files", "*.txt"), ("All files", "*.*")]).name                              
-                    with open(self.path, 'rb') as file:             
+                        self.path = filedialog.askopenfile(parent=self.Window2, filetypes = [("Roll Configs", "*.pkl"), ("Text files", "*.txt"), ("All files", "*.*")]).name
+                    with open(self.path, 'rb') as file:
                         content = file.read()
-                        self.load_content(content)                                      
+                        self.load_content(content)
                         self.modified=0
                     self.Window2.title(os.path.basename(os.path.normpath(self.path))[:-4])
                     self.past_index=self.past_index_max
                 except Exception:
                     print(traceback.format_exc())
                     messagebox.showerror(parent=self.Window2, title="Path error", message="Invalid path, try again.")
-                    return               
+                    return
             else:
                 answer = messagebox.askyesno(parent=self.Window2, title='Confirmation', message='There are unsaved changes. Do you want to save current settings first?')
                 if answer:
-                    self.savefileas()                      
-                self.modified=0             
+                    self.savefileas()
+                self.modified=0
                 self.openfile(pre_path)
 
         def up_down2(self, event):
@@ -4921,12 +5328,35 @@ class GUI(ctk.CTk):
                         alt=0
                 if alt:
                     self.path=os.path.join(self.user_past_configs_dir, str(self.past_index)+'.txt')
-                    with open(self.path, 'rb') as file:             
+                    with open(self.path, 'rb') as file:
                         content = file.read()
-                        self.load_content(content)                                      
+                        self.load_content(content)
                         self.modified=0
                         self.Window2.title('#'+str(self.past_index+1))
 
+        def send_portrait_update(self):
+            """Send the current character portrait to the server for broadcasting."""
+            portrait_data = None
+            try:
+                if hasattr(self, 'SheetWindow') and self.SheetWindow.portrait_path:
+                    path = self.SheetWindow.portrait_path
+                    if not os.path.isabs(path):
+                        path = os.path.join(BASE_DIR, path)
+                    if os.path.exists(path):
+                        img = Image.open(path)
+                        img = img.resize((32, 32), Image.LANCZOS)
+                        import io
+                        buf = io.BytesIO()
+                        img.save(buf, format='PNG')
+                        portrait_data = buf.getvalue()
+            except Exception as e:
+                print(f"Portrait update error: {e}")
+
+            update_msg = pickle.dumps({'type': 'portrait_update', 'portrait_data': portrait_data})
+            update_header = f"{len(update_msg):<{HEADER_LENGTH}}".encode(FORMAT)
+            client.send(update_header + update_msg)
+            print("Sent portrait update to server.")
+
         def callbackRes(self, name):
             if self.selectRes.get():
                 if int(self.res.get()):
@@ -4937,8 +5367,8 @@ class GUI(ctk.CTk):
                     self.build_resor()
                 else:
                     self.destroy_res(self.selectRes.get()-1)
-                
-        # The main layout of the chat 
+
+        # The main layout of the chat
         def layout(self,name):
                 self.path=''
                 self.past_index_max=0
@@ -4963,16 +5393,16 @@ class GUI(ctk.CTk):
                 self.minST = 1               #ST = sleepTime
                 self.maxST = 10
                 self.minMST = 60             #MST = maxSleepTime
-                self.maxMST = 100    
+                self.maxMST = 100
                 self.incrementFraction = 1/10    #sometimes not used
                 self.name = name
                 self.SheetWindow = CharacterSheetWindow(self)
                 self.SheetWindow.withdraw()
-                
-                # to show chat window 
+
+                # to show chat window
                 # self.deiconify() - moved to end of layout to prevent jank
-                self.title("Chatroom") 
-                self.resizable(width = False, height = False) 
+                self.title("Chatroom")
+                self.resizable(width = False, height = False)
                 self.center_window(self, 800, 504)
                 self.columnconfigure(2 , weight=1)
                 self.rowconfigure(1, weight=1)
@@ -4994,47 +5424,47 @@ class GUI(ctk.CTk):
                                     fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda: self.AllClick())
                 self.allButton.grid(row=2, column=1, padx=self.rescale, pady=self.rescale, sticky="ew")
 
-                self.blocbtt= ctk.CTkButton(self, 
+                self.blocbtt= ctk.CTkButton(self,
                                                     text = 'â–º',
-                                                    width=26,                      
+                                                    width=26,
                                                     border_color=self.color,
                                                     border_width=2,
                                                     fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda: self.blocswitch())
                 self.blocbtt.grid(row=0, column=4, padx=self.rescale, pady=self.rescale, sticky="ns", rowspan=3)
-                
-                self.sheetbtt= ctk.CTkButton(self, 
+
+                self.sheetbtt= ctk.CTkButton(self,
                                                     text = 'â—„',
-                                                    width=26,                      
+                                                    width=26,
                                                     border_color=self.color,
                                                     border_width=2,
                                                     fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda: self.sheetswitch())
                 self.sheetbtt.grid(row=0, column=0, padx=(self.rescale, 0), pady=self.rescale, sticky="ns", rowspan=3)
-                                
-                self.entryMsg = ctk.CTkEntry(self, fg_color="gray20", border_width=0, placeholder_text_color="gray30", placeholder_text="Write a message", font=("Roboto", 12)) 
+
+                self.entryMsg = ctk.CTkEntry(self, fg_color="gray20", border_width=0, placeholder_text_color="gray30", placeholder_text="Write a message", font=("Roboto", 12))
                 self.entryMsg.grid(row=2, column=2, padx=(0,self.rescale), pady=self.rescale, sticky="ew")
                 #self.entryMsg.after(20, self.entryMsg.focus)
-                
-                self.buttonMsg = ctk.CTkButton(self, 
+
+                self.buttonMsg = ctk.CTkButton(self,
                                                             text = "Send",
                                                             border_color=self.color,
                                                             border_width=2,
-                                                            fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda : self.sendButton(self.entryMsg.get())) 
+                                                            fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda : self.sendButton(self.entryMsg.get()))
                 self.buttonMsg.grid(row=2, column=3, pady=self.rescale, sticky="ew")
-                
+
                 self.textCons=ctk.CTkTextbox(self, fg_color="gray20", font=("Roboto", 12))
                 self.textCons.grid(row=0, column=2, pady=(self.rescale,0), sticky="nsew", rowspan=2, columnspan=2)
-                self.textCons.configure(cursor = "arrow") 
-                self.textCons.configure(state = DISABLED) 
+                self.textCons.configure(cursor = "arrow")
+                self.textCons.configure(state = DISABLED)
                 self.bind('<Return>', (lambda event: self.sendButton(self.entryMsg.get())))
                 self.bind("<Up>", self.up_down)
                 self.bind("<Down>", self.up_down)
                 self.protocol("WM_DELETE_WINDOW", self.on_closing)
                 self.textCons.tag_config('date', foreground="gray30")
                 self.textCons.tag_config('overstrike', overstrike=True)
-                
+
                 self.Window2=ctk.CTkToplevel(fg_color="gray15")
                 self.Window2.withdraw()
-                self.Window2.title("Roll") 
+                self.Window2.title("Roll")
                 self.Window2.resizable(width = False, height = False)
                 self.center_window(self.Window2, 1350, 524)
                 self.Window2.columnconfigure(1 , weight=1)
@@ -5059,7 +5489,7 @@ class GUI(ctk.CTk):
                 self.selectedLabel=ctk.CTkLabel(self.Window2, text="Selected", fg_color="gray20", corner_radius=6, font=("Roboto", 14))
                 self.selectedLabel.grid(row=2, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
 
-                self.label=ctk.CTkScrollableFrame(self.Window2, 
+                self.label=ctk.CTkScrollableFrame(self.Window2,
                                                     fg_color="gray20",
                                                     scrollbar_button_color="gray25",
                                                     scrollbar_button_hover_color="gray35")
@@ -5083,12 +5513,27 @@ class GUI(ctk.CTk):
                 self.terFrame.columnconfigure(0 , weight=1)
                 self.terFrame.grid(row=1, column=2, padx=self.rescale, sticky="ns", rowspan=3)
 
-                self.button_block = ctk.CTkButton(self.Window2, 
+                self.send_row = ctk.CTkFrame(self.Window2, fg_color="gray15")
+                self.send_row.columnconfigure(0, weight=1)
+                self.send_row.grid(row=4, column=2, padx=self.rescale, pady=self.rescale, sticky="ew")
+
+                self.button_block = ctk.CTkButton(self.send_row,
                                                             text = "Send",
                                                             border_color=self.color,
                                                             border_width=2,
                                                             fg_color="gray20", hover_color="gray30", font=("Roboto", 12), command = lambda : self.send_block())
-                self.button_block.grid(row=4, column=2, padx=self.rescale, pady=self.rescale, sticky="ew")
+                self.button_block.grid(row=0, column=0, sticky="ew")
+
+                self.pie_menu_btn = ctk.CTkButton(self.send_row,
+                                                   text="+",
+                                                   width=28, height=28,
+                                                   border_color=self.color,
+                                                   border_width=2,
+                                                   fg_color="gray20",
+                                                   hover_color="gray30",
+                                                   font=("Roboto", 14, "bold"),
+                                                   command=self.show_pie_menu)
+                self.pie_menu_btn.grid(row=0, column=1, padx=(self.rescale, 0), sticky="ns")
 
                 self.resor=[]
 
@@ -5238,28 +5683,28 @@ class GUI(ctk.CTk):
                 self.antebar.grid(row=1, column=0, sticky="ew", pady=(0, self.rescale))
 
                 self.antelabel= ctk.CTkLabel(self.antebar, text='Anterior', fg_color="gray25", corner_radius=6, font=("Roboto", 14))           
-                self.antelabel.grid(row=0, column=0, padx=self.rescale, sticky="ew", pady=(self.rescale, 0), columnspan=10)
+                self.antelabel.grid(row=0, column=0, padx=0, sticky="ew", pady=(self.rescale, 0), columnspan=10)
 
                 self.aconlabel= ctk.CTkLabel(self.antebar,text='Constant', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.aconlabel.grid(row=1, column=0, padx=(2*self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.aconlabel.grid(row=1, column=0, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
                 
 
                 self.acon = IntSpinbox(self.antebar,
                                         color=self.color, variable = self.ac)
-                self.acon.grid(row=2, column=0, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
+                self.acon.grid(row=2, column=0, padx=0, pady=(self.rescale, self.rescale))
 
                 self.aconbtt = ctk.CTkButton(self.antebar,
                                                             text = "+",
                                                             width=26,
                                                             border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda : self.antepaste(int(self.ac.get()), 1))
-                self.aconbtt.grid(row=2, column=1, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.aconbtt.grid(row=2, column=1, padx=(self.rescale, self.rescale), pady=(self.rescale, self.rescale))
 
                 self.separator1= ctk.CTkLabel(self.antebar, text="")
                 self.separator1.grid(row=2, column=2, sticky="ew")
 
                 self.aadvlabel= ctk.CTkLabel(self.antebar,text='Advantage', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.aadvlabel.grid(row=1, column=8, padx=(self.rescale,2*self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.aadvlabel.grid(row=1, column=8, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
 
                 self.aadv = IntSpinbox(self.antebar,
                                         color=self.color, variable = self.aa)
@@ -5271,7 +5716,7 @@ class GUI(ctk.CTk):
                                                             border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda : self.anteadvpaste(int(self.aa.get())))
 
-                self.aadvbtt.grid(row=2, column=9, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.aadvbtt.grid(row=2, column=9, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
                 self.separator2= ctk.CTkLabel(self.antebar, text="")
                 self.separator2.grid(row=2, column=7, sticky="ew")
@@ -5283,8 +5728,8 @@ class GUI(ctk.CTk):
                                     color=self.color, variable = self.ad[0])
                 self.adic.grid(row=2, column=3, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
-                self.addlabel= ctk.CTkLabel(self.antebar, text='d', width=0, font=("Roboto", 12))
-                self.addlabel.grid(row=2, column=4, padx=10/3, pady=(self.rescale, self.rescale))
+                self.addlabel = ctk.CTkLabel(self.antebar, text='d', width=0, font=("Roboto", 12))
+                self.addlabel.grid(row=2, column=4, padx=self.rescale, pady=(self.rescale, self.rescale))
 
                 self.adic2 = IntSpinbox(self.antebar,
                                     color=self.color, variable = self.ad[1],
@@ -5296,21 +5741,21 @@ class GUI(ctk.CTk):
                                                             width=26,
                                                             border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda : self.antepaste(int(self.ad[0].get()), int(self.ad[1].get())))
-                self.adicbtt.grid(row=2, column=6, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.adicbtt.grid(row=2, column=6, padx=(self.rescale, self.rescale), pady=(self.rescale, self.rescale))
 
                 self.interbar=ctk.CTkFrame(self.secFrame, fg_color="gray20")
                 self.interbar.columnconfigure((2, 7), weight=1)
                 self.interbar.grid(row=3, column=0, sticky="ew", pady=(0, self.rescale))
 
                 self.interLabel= ctk.CTkLabel(self.interbar, text='Intermediate', fg_color="gray25", corner_radius=6, font=("Roboto", 14))
-                self.interLabel.grid(row=0, column=0, padx=self.rescale, sticky="ew", pady=(self.rescale, 0), columnspan=10)
+                self.interLabel.grid(row=0, column=0, padx=0, sticky="ew", pady=(self.rescale, 0), columnspan=10)
 
                 self.iconlabel= ctk.CTkLabel(self.interbar,text='Constant', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.iconlabel.grid(row=1, column=0, padx=(2*self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.iconlabel.grid(row=1, column=0, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
 
                 self.icon = IntSpinbox(self.interbar,
                                         color=self.color, variable = self.ic)
-                self.icon.grid(row=2, column=0, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
+                self.icon.grid(row=2, column=0, padx=0, pady=(self.rescale, self.rescale))
 
                 self.iconbtt = ctk.CTkButton(self.interbar,
                                                             text = "+",
@@ -5318,13 +5763,13 @@ class GUI(ctk.CTk):
                                                             border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.ic.get()), 1, "c", "Inter"))
 
-                self.iconbtt.grid(row=2, column=1, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.iconbtt.grid(row=2, column=1, padx=(self.rescale, self.rescale), pady=(self.rescale, self.rescale))
 
                 self.separator3= ctk.CTkLabel(self.interbar, text="")
                 self.separator3.grid(row=2, column=2, sticky="ew")
 
                 self.iadvlabel= ctk.CTkLabel(self.interbar,text='Advantage', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.iadvlabel.grid(row=1, column=8, padx=(self.rescale,2*self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.iadvlabel.grid(row=1, column=8, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
 
                 self.iadv = IntSpinbox(self.interbar,
                                         color=self.color, variable = self.ia)
@@ -5336,7 +5781,7 @@ class GUI(ctk.CTk):
                                                             width=26, border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.ia.get()), 0, "adv", "Inter"))
 
-                self.iadvbtt.grid(row=2, column=9, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.iadvbtt.grid(row=2, column=9, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
                 self.separator4= ctk.CTkLabel(self.interbar, text="")
                 self.separator4.grid(row=2, column=7, sticky="ew")
@@ -5349,7 +5794,7 @@ class GUI(ctk.CTk):
                 self.idic.grid(row=2, column=3, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
                 self.iddlabel= ctk.CTkLabel(self.interbar, text='d', width=0, font=("Roboto", 12))
-                self.iddlabel.grid(row=2, column=4, padx=10/3, pady=(self.rescale, self.rescale))
+                self.iddlabel.grid(row=2, column=4, padx=self.rescale, pady=(self.rescale, self.rescale))
 
                 self.idic2 = IntSpinbox(self.interbar,
                                     color=self.color, variable = self.id[1],
@@ -5360,34 +5805,34 @@ class GUI(ctk.CTk):
                                                             text = "+",
                                                             width=26, border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.id[0].get()), int(self.id[1].get()), "dice", "Inter"))
-                self.idicbtt.grid(row=2, column=6, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.idicbtt.grid(row=2, column=6, padx=(self.rescale, self.rescale), pady=(self.rescale, self.rescale))
 
                 self.postbar=ctk.CTkFrame(self.secFrame, fg_color="gray20")
                 self.postbar.columnconfigure((2, 7), weight=1)
                 self.postbar.grid(row=4, column=0, sticky="ew", pady=(0, self.rescale))
 
                 self.postLabel= ctk.CTkLabel(self.postbar, text='Posterior', fg_color="gray25", corner_radius=6, font=("Roboto", 14))
-                self.postLabel.grid(row=0, column=0, padx=self.rescale, sticky="ew", pady=(self.rescale, 0), columnspan=10)
+                self.postLabel.grid(row=0, column=0, padx=0, sticky="ew", pady=(self.rescale, 0), columnspan=10)
 
                 self.pconlabel= ctk.CTkLabel(self.postbar,text='Constant', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.pconlabel.grid(row=1, column=0, padx=(2*self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.pconlabel.grid(row=1, column=0, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
 
                 self.pcon = IntSpinbox(self.postbar,
                                         color=self.color, variable = self.pc)
-                self.pcon.grid(row=2, column=0, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
+                self.pcon.grid(row=2, column=0, padx=0, pady=(self.rescale, self.rescale))
 
                 self.pconbtt = ctk.CTkButton(self.postbar,
                                                             text = "+",
                                                             width=26, border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.pc.get()), 1, "c", "Post"))
 
-                self.pconbtt.grid(row=2, column=1, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.pconbtt.grid(row=2, column=1, padx=(self.rescale, self.rescale), pady=(self.rescale, self.rescale))
 
                 self.separator5= ctk.CTkLabel(self.postbar, text="")
                 self.separator5.grid(row=2, column=2, sticky="ew")
 
                 self.padvlabel= ctk.CTkLabel(self.postbar,text='Advantage', fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                self.padvlabel.grid(row=1, column=8, padx=(self.rescale,2*self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
+                self.padvlabel.grid(row=1, column=8, padx=(self.rescale,self.rescale), pady=(self.rescale, 0), sticky="ew", columnspan=2)
 
                 self.padv = IntSpinbox(self.postbar,
                                         color=self.color, variable = self.pa)
@@ -5399,7 +5844,7 @@ class GUI(ctk.CTk):
                                                             width=26, border_color=self.color, border_width=2,
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.pa.get()), 0, "adv", "Post"))
 
-                self.padvbtt.grid(row=2, column=9, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
+                self.padvbtt.grid(row=2, column=9, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
                 self.separator6= ctk.CTkLabel(self.postbar, text="")
                 self.separator6.grid(row=2, column=7, sticky="ew")
@@ -5412,7 +5857,7 @@ class GUI(ctk.CTk):
                 self.pdic.grid(row=2, column=3, padx=(self.rescale, 0), pady=(self.rescale, self.rescale))
 
                 self.pddlabel= ctk.CTkLabel(self.postbar, text='d', width=0, font=("Roboto", 12))
-                self.pddlabel.grid(row=2, column=4, padx=10/3, pady=(self.rescale, self.rescale))
+                self.pddlabel.grid(row=2, column=4, padx=self.rescale, pady=(self.rescale, self.rescale))
 
                 self.pdic2 = IntSpinbox(self.postbar,
                                     color=self.color, variable = self.pd[1],
@@ -5425,6 +5870,8 @@ class GUI(ctk.CTk):
                                                             fg_color="gray25", hover_color="gray35", font=("Roboto", 12, "bold"), command = lambda: self.postpaste(int(self.pd[0].get()), int(self.pd[1].get()), "dice", "Post"))
                 self.pdicbtt.grid(row=2, column=6, padx=(10/3, self.rescale), pady=(self.rescale, self.rescale))
 
+
+
                 #------------------------
                 self.hiddenres=ctk.CTkToplevel(fg_color="gray15")
                 self.hiddenres.withdraw()
@@ -5731,6 +6178,11 @@ class GUI(ctk.CTk):
                             current_line=int(self.textCons.index(END)[:-2])-1
                             if message.cor not in self.textCons.tag_names(index=None):
                                 self.textCons.tag_config(message.cor, foreground=message.cor)
+                            # Strip " (private)" if it exists for icon lookup
+                            sender_clean = message.sender.replace(" (private)", "")
+                            chat_icon = self._get_player_chat_icon(sender_clean)
+                            if chat_icon:
+                                self.textCons._textbox.image_create(END, image=chat_icon, padx=self.rescale)
                             self.textCons.insert(END, message.sender+' ', message.cor)
                             self.textCons.insert(END, datetime.now().strftime("%d/%m/%Y %H:%M")+'\n', 'date')
                             for u in range(len(textlis)-1):
@@ -5766,11 +6218,23 @@ class GUI(ctk.CTk):
                         self.after(0, display_message)
                     elif type(message).__name__=='dict':
                         def update_players(message=message):
+                            is_portrait_update = (message.get('type') == 'portrait_update')
                             playerFlag = True
                             for i in range(len(self.players)):
                                 if self.players[i]['name'] == message['name']:
-                                    self.players.pop(i)
-                                    playerFlag = False
+                                    if is_portrait_update:
+                                        # Update existing player data
+                                        self.players[i]['portrait_data'] = message.get('portrait_data')
+                                        self.players[i]['color'] = message.get('color', self.players[i]['color'])
+                                        # Clear cached images for this player so they refresh
+                                        for key in list(self.portrait_images.keys()):
+                                            if key.startswith(message['name']):
+                                                del self.portrait_images[key]
+                                        playerFlag = False 
+                                    else:
+                                        # Disconnect
+                                        self.players.pop(i)
+                                        playerFlag = False
                                     break
                             if playerFlag:
                                 message['selected'] = False
@@ -5845,19 +6309,19 @@ class GUI(ctk.CTk):
                                 possibs.resizable(width = False, height = False)
                                 
                                 main_frame = ctk.CTkFrame(possibs, fg_color="transparent")
-                                main_frame.grid(padx=4, pady=4)
+                                main_frame.grid(padx=self.rescale, pady=self.rescale)
                                 
                                 aux_2=ctk.CTkLabel(main_frame, text='Net advantage', fg_color="gray20", corner_radius=6, font=("Roboto", 12))
-                                aux_2.grid(row=0, column=3, padx=4, pady=4)
+                                aux_2.grid(row=0, column=3, padx=self.rescale, pady=self.rescale)
                                 aux_3=ctk.CTkLabel(main_frame, text='Resources', fg_color="gray20", corner_radius=6, font=("Roboto", 12))
-                                aux_3.grid(row=0, column=4, padx=4, pady=4, sticky="ew")
+                                aux_3.grid(row=0, column=4, padx=self.rescale, pady=self.rescale, sticky="ew")
                                 
                                 aux_2_mor=ctk.CTkFrame(main_frame, fg_color="gray20")
                                 aux_2_mor.grid_columnconfigure(0, weight=1)
-                                aux_2_mor.grid(row=1, column=3, padx=4, pady=4, sticky="ew")
+                                aux_2_mor.grid(row=1, column=3, padx=self.rescale, pady=self.rescale, sticky="ew")
                                 aux_3_mor=ctk.CTkFrame(main_frame, fg_color="gray20")
                                 aux_3_mor.grid_columnconfigure(0, weight=1)
-                                aux_3_mor.grid(row=1, column=4, padx=4, pady=4, sticky="ew")
+                                aux_3_mor.grid(row=1, column=4, padx=self.rescale, pady=self.rescale, sticky="ew")
 
                                 diff=[]
                                 diff_crit=[]
@@ -5886,10 +6350,10 @@ class GUI(ctk.CTk):
                                     probs[ind:]=["-" for i in range(ind, len(msg_list))]
                                     probs[ind]="{:.1%}".format(1-percent)
                                     aux_1=ctk.CTkLabel(main_frame, text='% of f->s+', fg_color="gray20", corner_radius=6, font=("Roboto", 12))
-                                    aux_1.grid(row=0, column=0, padx=4, pady=4)
+                                    aux_1.grid(row=0, column=0, padx=self.rescale, pady=self.rescale)
                                     aux_1_mor=ctk.CTkFrame(main_frame, fg_color="gray20")
                                     aux_1_mor.grid_columnconfigure(0, weight=1)
-                                    aux_1_mor.grid(row=1, column=0, padx=4, pady=4, sticky="ew")
+                                    aux_1_mor.grid(row=1, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
 
                                 percent=min(0.5, max(np.random.normal(0.25, 0.1), 0))
                                 aux2=[i for i in range(1, len(diff_crit)) if (r<border_crit[i-1] and r>=border_crit[i]-percent*diff_crit[i])]
@@ -5898,10 +6362,10 @@ class GUI(ctk.CTk):
                                     probs_crit[ind:]=["-" for i in range(ind, len(msg_list))]
                                     probs_crit[ind]="{:.1%}".format(1-percent)
                                     aux_12=ctk.CTkLabel(main_frame, text='% of s->cs', fg_color="gray20", corner_radius=6, font=("Roboto", 12))
-                                    aux_12.grid(row=0, column=1, padx=4, pady=4)
+                                    aux_12.grid(row=0, column=1, padx=self.rescale, pady=self.rescale)
                                     aux_12_mor=ctk.CTkFrame(main_frame, fg_color="gray20")
                                     aux_12_mor.grid_columnconfigure(0, weight=1)
-                                    aux_12_mor.grid(row=1, column=1, padx=4, pady=4, sticky="ew")
+                                    aux_12_mor.grid(row=1, column=1, padx=self.rescale, pady=self.rescale, sticky="ew")
                                     
                                 percent=min(0.5, max(np.random.normal(0.25, 0.1), 0))
                                 aux3=[i for i in range(1, len(diff_fail)) if (r<border_fail[i-1] and r>=border_fail[i]-percent*diff_fail[i])]
@@ -5910,22 +6374,22 @@ class GUI(ctk.CTk):
                                     probs_fail[ind:]=["-" for i in range(ind, len(msg_list))]
                                     probs_fail[ind]="{:.1%}".format(1-percent)
                                     aux_13=ctk.CTkLabel(main_frame, text='% of cf->f+', fg_color="gray20", corner_radius=6, font=("Roboto", 12))
-                                    aux_13.grid(row=0, column=2, padx=4, pady=4)
+                                    aux_13.grid(row=0, column=2, padx=self.rescale, pady=self.rescale)
                                     aux_13_mor=ctk.CTkFrame(main_frame, fg_color="gray20")
                                     aux_13_mor.grid_columnconfigure(0, weight=1)
-                                    aux_13_mor.grid(row=1, column=2, padx=4, pady=4, sticky="ew")
+                                    aux_13_mor.grid(row=1, column=2, padx=self.rescale, pady=self.rescale, sticky="ew")
                                     
                                 for i in range(len(msg_list)):
                                     p, crit, r, resultStr=self.transl(msg_list[i])
                                     if aux1:
                                         aux_1=ctk.CTkLabel(aux_1_mor, text=probs[i], fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                                        aux_1.grid(row=i, column=0, padx=8, pady=8, sticky="ew")
+                                        aux_1.grid(row=i, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
                                     if aux2:
                                         aux_12=ctk.CTkLabel(aux_12_mor, text=probs_crit[i], fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                                        aux_12.grid(row=i, column=0, padx=8, pady=8, sticky="ew")
+                                        aux_12.grid(row=i, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
                                     if aux3:
                                         aux_13=ctk.CTkLabel(aux_13_mor, text=probs_fail[i], fg_color="gray25", corner_radius=6, font=("Roboto", 12))
-                                        aux_13.grid(row=i, column=0, padx=8, pady=8, sticky="ew")
+                                        aux_13.grid(row=i, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
                                                     
                                     aux_2_text = '+'*(msg_list[i].adv>0)+str(msg_list[i].adv)
                                     aux_2=ctk.CTkLabel(aux_2_mor, text=aux_2_text, fg_color="gray25", corner_radius=6, font=("Roboto", 12))
@@ -5942,7 +6406,7 @@ class GUI(ctk.CTk):
                                                         fg_color="gray25", hover_color="gray35", border_color=self.color, border_width=2,
                                                         font=("Roboto", 12),
                                                         command=lambda idx=i, rid=roll_id, win=possibs: self.send_posterior_selection(rid, idx, win))
-                                        resButton.grid(row=i, column=0, padx=8, pady=8, sticky="ew")
+                                        resButton.grid(row=i, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
                                     else:
                                         # Single player or receiver: show button to display result
                                         # Pass msg_list[i].hidden to displayres
@@ -5952,7 +6416,7 @@ class GUI(ctk.CTk):
                                                         fg_color="gray25", hover_color="gray35", border_color=self.color, border_width=2,
                                                         font=("Roboto", 12),
                                                         command=lambda p=p, crit=crit, r=r, resStr=resultStr, st=send_type, txt=full_text, hid=is_hidden: threading.Thread(target = self.displayres, args=[p, crit, r, resStr, st, txt, None, hid]).start())
-                                        resButton.grid(row=i, column=0, padx=8, pady=8, sticky="ew")
+                                        resButton.grid(row=i, column=0, padx=self.rescale, pady=self.rescale, sticky="ew")
                                 
                                 if not is_two_player:
                                     resButton = ctk.CTkButton(main_frame,
@@ -5960,7 +6424,7 @@ class GUI(ctk.CTk):
                                                         fg_color="gray25", hover_color="gray35", border_color=self.color, border_width=2,
                                                         font=("Roboto", 14),
                                                         command=partial(self.show_res, msg_list, send_type))
-                                    resButton.grid(row=2, column=0, columnspan=5, padx=4, pady=4, sticky="ew")
+                                    resButton.grid(row=2, column=0, columnspan=5, padx=self.rescale, pady=self.rescale, sticky="ew")
 
                                 possibs.focus()
                                 self.center_window(possibs)
